import{r as n,b,j as e,p as u,t as f,f as p}from"./index-CeiZKB8G.js";import{c as w}from"./crosswalk-C791ooMc.js";const N=()=>{const[c,m]=n.useState(""),[l,o]=n.useState(!1),[i,x]=n.useState(""),[t,r]=n.useState("");b();const g=a=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a),h=async a=>{a.preventDefault(),o(!0),r(""),x("");try{const s=c.trim();if(!s){r("Email is required");return}if(!g(s)){r("Please enter a valid email address");return}const d=await p.forgotPassword(s);d.success?(x(d.message),m(""),setTimeout(()=>{o(!1)},3e4)):(r(d.message),o(!1))}catch(s){console.error("Forgot password error:",s),r("Unable to process your request. Please try again later."),o(!1)}};return e.jsxs("div",{className:"flex min-h-screen",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 p-12 text-center",style:{background:`linear-gradient(135deg, ${u.main}, ${u.dark})`},children:[e.jsx("img",{src:"/logo.png",alt:"EcoPulse Logo",className:"w-32 h-32 mb-6"}),e.jsx("h1",{className:"mb-6 text-5xl font-bold text-white",children:"EcoPulse"}),e.jsx("p",{className:"text-lg leading-relaxed text-white/80 max-w-md",children:"Forgot your password? No worries, we'll help you reset it."})]}),e.jsxs("div",{className:"relative flex items-center justify-center w-1/2 bg-center bg-cover",style:{backgroundImage:`url(${w})`,backgroundSize:"cover",backgroundPosition:"center"},children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"rgba(255, 255, 255, 0.9)"}}),e.jsxs("div",{className:"relative z-10 w-full max-w-md p-8 mx-12 bg-white shadow-xl rounded-3xl",children:[e.jsx("h2",{className:"mb-6 text-2xl font-bold text-center",style:{color:f.main},children:"Reset Your Password"}),e.jsx("p",{className:"mb-4 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."}),i&&e.jsx("div",{className:"mb-4 p-2 bg-green-100 text-green-700 rounded",children:i}),t&&e.jsx("div",{className:"mb-4 p-2 bg-red-100 text-red-700 rounded",children:t}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:c,onChange:a=>m(a.target.value),required:!0,disabled:l,className:`w-full h-10 px-3 border rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-700 
              ${t?"border-red-500":"border-gray-300"}
              ${l?"bg-gray-100":"bg-white"}
            `,placeholder:"Enter your email"}),t&&e.jsx("p",{className:"text-xs text-red-500",children:t})]}),e.jsx("button",{type:"submit",disabled:l||!c.trim(),className:`w-full h-10 bg-green-700 text-white rounded-lg font-medium hover:bg-green-800 \r
            transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center justify-center`,children:l?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Processing..."]}):"Send Reset Link"}),i&&e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-green-700",children:i})})]}),e.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:e.jsx("a",{href:"/login",className:"text-green-700 hover:underline",children:"Back to Login"})})]})]})]})};export{N as default};
