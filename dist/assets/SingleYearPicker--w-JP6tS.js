import{r as i,$ as o,j as s,B as p,J as m,T as y}from"./index-CeiZKB8G.js";import{L as u,D as j}from"./DatePicker-Ds6sJbAa.js";import{A as h}from"./AdapterDayjs-J5u3snYC.js";import{R as b}from"./refresh-ccw-DYG20dKq.js";const S=e=>({"& .MuiOutlinedInput-root":{borderRadius:"8px",width:"120px",height:"40px",background:"#fff",border:e?"1px solid #d32f2f":"none","&:hover":{borderColor:e?"#d32f2f":"primary.main"}}}),R=({initialYear:e=o().year(),onYearChange:r})=>{const[x,l]=i.useState(o(e.toString())),[c,a]=i.useState(!1),n=i.useCallback(t=>{if(!t||!t.isValid()){a(!0);return}a(!1),l(t),r==null||r(t.year())},[r]),f=i.useCallback(()=>{const t=o().year(),d=o(t.toString());l(d),r==null||r(d.year()),a(!1)},[r]);return s.jsx(u,{dateAdapter:h,children:s.jsxs(p,{sx:{display:"flex",flexDirection:"column",gap:2},children:[s.jsxs(p,{sx:{display:"flex",alignItems:"center",gap:2},children:[s.jsx(j,{views:["year"],value:x,onChange:n,slotProps:{textField:{sx:S(c),inputProps:{placeholder:"Year"},size:"small",format:"YYYY"}}}),s.jsx(m,{onClick:f,size:"small",sx:{bgcolor:"primary.light",color:"primary.contrastText","&:hover":{bgcolor:"primary.main"},width:36,height:36},children:s.jsx(b,{size:16})})]}),c&&s.jsx(y,{variant:"caption",color:"error",children:"Invalid year"})]})})};export{R as S};
