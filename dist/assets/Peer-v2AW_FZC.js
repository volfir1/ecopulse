import{a0 as ne,c as K,r as h,a1 as $,j as e,X,n as ie,aA as he,aB as ce,J as de,aC as ue,B as me,aD as ge,aF as ye,aE as Ge}from"./index-CeiZKB8G.js";import{S as We}from"./SingleYearPicker--w-JP6tS.js";import{s as xe}from"./tup_logo-CddcVZx9.js";import"./DatePicker-Ds6sJbAa.js";import"./index-D_GLsIW_.js";import"./useThemeProps-B7RzBULZ.js";import"./index-BGHELInD.js";import"./TextField-CJViWXc3.js";import"./Select-CMa9xVQT.js";import"./Chip-D2qSxnvf.js";import"./AdapterDayjs-J5u3snYC.js";import"./refresh-ccw-DYG20dKq.js";const pe=async f=>{try{const a=new ne({orientation:"landscape",unit:"mm",format:"a4"}),y=a.internal.pageSize.getWidth(),N=a.internal.pageSize.getHeight(),G=30;a.setFillColor(66,139,202),a.rect(0,0,y,G,"F"),a.addImage(K,"PNG",15,5,20,20),a.addImage(xe,"PNG",y-35,5,20,20),a.setTextColor(255,255,255),a.setFontSize(16);const T="Peer-to-Peer Energy Data Report",j=a.getStringUnitWidth(T)*a.internal.getFontSize()/a.internal.scaleFactor,V=(y-j)/2;a.text(T,V,17),a.setFontSize(11);const E=`Date Generated: ${new Date().toLocaleDateString()}`,i=a.getStringUnitWidth(E)*a.internal.getFontSize()/a.internal.scaleFactor,W=(y-i)/2;a.text(E,W,25),a.setTextColor(0,0,0);let c=G+15;a.setFontSize(14);const m="Regional Energy Production Summary",b=a.getStringUnitWidth(m)*a.internal.getFontSize()/a.internal.scaleFactor,v=(y-b)/2;a.text(m,v,c),c+=8,a.autoTable({head:[["Year","Cebu","Negros","Panay","Leyte-Samar","Bohol","Visayas Total","Visayas Consumption"]],body:f.map(u=>[u.year,parseFloat(u.cebuTotal).toFixed(2),parseFloat(u.negrosTotal).toFixed(2),parseFloat(u.panayTotal).toFixed(2),parseFloat(u.leyteSamarTotal).toFixed(2),parseFloat(u.boholTotal).toFixed(2),parseFloat(u.visayasTotal).toFixed(2),parseFloat(u.visayasConsumption).toFixed(2)]),startY:c,margin:{top:10,right:10,bottom:10,left:10},headStyles:{fillColor:[66,139,202],halign:"center",fontSize:11},columnStyles:{0:{cellWidth:25,halign:"center"},1:{cellWidth:30,halign:"center"},2:{cellWidth:30,halign:"center"},3:{cellWidth:30,halign:"center"},4:{cellWidth:35,halign:"center"},5:{cellWidth:30,halign:"center"},6:{cellWidth:35,halign:"center"},7:{cellWidth:40,halign:"center"}},styles:{fontSize:10,cellPadding:3,overflow:"linebreak"},alternateRowStyles:{fillColor:[235,244,250]}}),a.addPage(),a.setFillColor(66,139,202),a.rect(0,0,y,G,"F"),a.setTextColor(255,255,255),a.setFontSize(16);const P="Energy Supply & Demand Analysis",x=a.getStringUnitWidth(P)*a.internal.getFontSize()/a.internal.scaleFactor,z=(y-x)/2;a.text(P,z,17),a.setFontSize(11),a.text(E,W,25),c=G+15,a.setTextColor(0,0,0),a.setFontSize(14),a.text("Regional Production vs. Consumption Analysis",15,c),c+=10;const C=f.map(u=>{const g=u.visayasTotal-u.visayasConsumption,w=u.visayasConsumption>0?g/u.visayasConsumption*100:0;return[u.year,parseFloat(u.visayasTotal).toFixed(2),parseFloat(u.visayasConsumption).toFixed(2),parseFloat(g).toFixed(2),`${w.toFixed(1)}%`,g>0?"Surplus":"Deficit"]});a.autoTable({head:[["Year","Total Production (GWh)","Consumption (GWh)","Difference (GWh)","Difference (%)","Status"]],body:C,startY:c,margin:{top:10,right:10,bottom:10,left:10},headStyles:{fillColor:[66,139,202],halign:"center",fontSize:11},styles:{fontSize:10,cellPadding:3},columnStyles:{0:{cellWidth:25,halign:"center"},1:{cellWidth:40,halign:"center"},2:{cellWidth:40,halign:"center"},3:{cellWidth:35,halign:"center"},4:{cellWidth:30,halign:"center"},5:{cellWidth:25,halign:"center"}},alternateRowStyles:{fillColor:[235,244,250]},didDrawCell:u=>{if(u.section==="body"&&u.column.index===5){const g=u.cell,w=g.raw;if(w==="Surplus")return a.setFillColor(200,250,200),a.rect(g.x,g.y,g.width,g.height,"F"),a.setTextColor(0,100,0),a.text(w,g.x+g.width/2,g.y+g.height/2,{align:"center",baseline:"middle"}),a.setTextColor(0,0,0),!1;if(w==="Deficit")return a.setFillColor(250,200,200),a.rect(g.x,g.y,g.width,g.height,"F"),a.setTextColor(150,0,0),a.text(w,g.x+g.width/2,g.y+g.height/2,{align:"center",baseline:"middle"}),a.setTextColor(0,0,0),!1}}}),c=a.autoTable.previous.finalY+20,a.setFontSize(14),a.text("Regional Insights",15,c),c+=8,a.setFontSize(10),["The Visayas region shows an overall trend of increased energy production across all provinces.","Negros consistently produces the highest renewable energy percentage in the region.","Leyte-Samar has significant geothermal capacity contributing to overall production.","Consumption patterns indicate growing demand throughout the Visayas region.","Peer-to-peer energy trading opportunities exist in areas with production surplus."].forEach((u,g)=>{a.setFillColor(66,139,202),a.circle(20,c+1.5,1.5,"F");const w=a.splitTextToSize(u,y-45);a.text(w,25,c),c+=w.length*6}),c=N-20,a.setDrawColor(66,139,202),a.setLineWidth(.5),a.line(15,c-10,y-15,c-10),a.addImage(K,"PNG",15,c-7,12,12),a.setFontSize(8),a.text("Ecopulse Energy Management | Phone: +63 2 1234 5678 | Email: info@ecopulse.com",y/2,c-4,{align:"center"}),a.setFontSize(7);const s=`Â© ${new Date().getFullYear()} Ecopulse. All rights reserved.`;return a.text(s,y/2,c,{align:"center"}),a.save(`Peer-to-Peer_Energy_Report_${new Date().getFullYear()}.pdf`),!0}catch(a){return console.error("Export error:",a),!1}},be=(f={})=>{const[a,y]=h.useState({"Cebu Geothermal (GWh)":"","Cebu Hydro (GWh)":"","Cebu Biomass (GWh)":"","Cebu Solar (GWh)":"","Cebu Wind (GWh)":"","Cebu Total Renewable Energy (GWh)":"","Cebu Total Non-Renewable Energy (GWh)":"","Cebu Total Power Generation (GWh)":"","Negros Geothermal (GWh)":"","Negros Hydro (GWh)":"","Negros Biomass (GWh)":"","Negros Solar (GWh)":"","Negros Wind (GWh)":"","Negros Total Renewable Energy (GWh)":"","Negros Total Non-Renewable Energy (GWh)":"","Negros Total Power Generation (GWh)":"","Panay Geothermal (GWh)":"","Panay Hydro (GWh)":"","Panay Biomass (GWh)":"","Panay Solar (GWh)":"","Panay Wind (GWh)":"","Panay Total Renewable Energy (GWh)":"","Panay Total Non-Renewable Energy (GWh)":"","Panay Total Power Generation (GWh)":"","Leyte-Samar Geothermal (GWh)":"","Leyte-Samar Hydro (GWh)":"","Leyte-Samar Biomass (GWh)":"","Leyte-Samar Solar (GWh)":"","Leyte-Samar Wind (GWh)":"","Leyte-Samar Total Renewable (GWh)":"","Leyte-Samar Total Non-Renewable (GWh)":"","Leyte-Samar Total Power Generation (GWh)":"","Bohol Geothermal (GWh)":"","Bohol Hydro (GWh)":"","Bohol Biomass (GWh)":"","Bohol Solar (GWh)":"","Bohol Wind (GWh)":"","Bohol Total Renewable (GWh)":"","Bohol Total Non-Renewable (GWh)":"","Bohol Total Power Generation (GWh)":"","Visayas Total Power Generation (GWh)":"","Visayas Total Power Consumption (GWh)":"","Solar Cost (PHP/W)":"","MERALCO Rate (PHP/kWh)":"",year:new Date().getFullYear()}),N=()=>{y({"Cebu Geothermal (GWh)":"","Cebu Hydro (GWh)":"","Cebu Biomass (GWh)":"","Cebu Solar (GWh)":"","Cebu Wind (GWh)":"","Cebu Total Renewable Energy (GWh)":"","Cebu Total Non-Renewable Energy (GWh)":"","Cebu Total Power Generation (GWh)":"","Negros Geothermal (GWh)":"","Negros Hydro (GWh)":"","Negros Biomass (GWh)":"","Negros Solar (GWh)":"","Negros Wind (GWh)":"","Negros Total Renewable Energy (GWh)":"","Negros Total Non-Renewable Energy (GWh)":"","Negros Total Power Generation (GWh)":"","Panay Geothermal (GWh)":"","Panay Hydro (GWh)":"","Panay Biomass (GWh)":"","Panay Solar (GWh)":"","Panay Wind (GWh)":"","Panay Total Renewable Energy (GWh)":"","Panay Total Non-Renewable Energy (GWh)":"","Panay Total Power Generation (GWh)":"","Leyte-Samar Geothermal (GWh)":"","Leyte-Samar Hydro (GWh)":"","Leyte-Samar Biomass (GWh)":"","Leyte-Samar Solar (GWh)":"","Leyte-Samar Wind (GWh)":"","Leyte-Samar Total Renewable (GWh)":"","Leyte-Samar Total Non-Renewable (GWh)":"","Leyte-Samar Total Power Generation (GWh)":"","Bohol Geothermal (GWh)":"","Bohol Hydro (GWh)":"","Bohol Biomass (GWh)":"","Bohol Solar (GWh)":"","Bohol Wind (GWh)":"","Bohol Total Renewable (GWh)":"","Bohol Total Non-Renewable (GWh)":"","Bohol Total Power Generation (GWh)":"","Visayas Total Power Generation (GWh)":"","Visayas Total Power Consumption (GWh)":"","Solar Cost (PHP/W)":"","MERALCO Rate (PHP/kWh)":"",year:new Date().getFullYear()})},G=(i,W)=>{y(c=>({...c,[i]:W}))},T=i=>{const W=parseFloat(a[`${i} Geothermal (GWh)`])||0,c=parseFloat(a[`${i} Hydro (GWh)`])||0,m=parseFloat(a[`${i} Biomass (GWh)`])||0,b=parseFloat(a[`${i} Solar (GWh)`])||0,v=parseFloat(a[`${i} Wind (GWh)`])||0,P=W+c+m+b+v,x=i==="Leyte-Samar"||i==="Bohol"?`${i} Total Renewable (GWh)`:`${i} Total Renewable Energy (GWh)`;G(x,P.toFixed(2))},j=i=>{const W=i==="Leyte-Samar"||i==="Bohol"?`${i} Total Renewable (GWh)`:`${i} Total Renewable Energy (GWh)`,c=i==="Leyte-Samar"||i==="Bohol"?`${i} Total Non-Renewable (GWh)`:`${i} Total Non-Renewable Energy (GWh)`,m=parseFloat(a[W])||0,b=parseFloat(a[c])||0,v=m+b;G(`${i} Total Power Generation (GWh)`,v.toFixed(2))},V=()=>{const i=parseFloat(a["Cebu Total Power Generation (GWh)"])||0,W=parseFloat(a["Negros Total Power Generation (GWh)"])||0,c=parseFloat(a["Panay Total Power Generation (GWh)"])||0,m=parseFloat(a["Leyte-Samar Total Power Generation (GWh)"])||0,b=parseFloat(a["Bohol Total Power Generation (GWh)"])||0,v=i+W+c+m+b;G("Visayas Total Power Generation (GWh)",v.toFixed(2))},E=async(i=!1)=>{var W,c;try{const m={Year:a.year,"Cebu Total Power Generation (GWh)":a["Cebu Total Power Generation (GWh)"],"Cebu Total Renewable Energy (GWh)":a["Cebu Total Renewable Energy (GWh)"],"Cebu Total Non-Renewable Energy (GWh)":a["Cebu Total Non-Renewable Energy (GWh)"],"Cebu Geothermal (GWh)":a["Cebu Geothermal (GWh)"],"Cebu Hydro (GWh)":a["Cebu Hydro (GWh)"],"Cebu Biomass (GWh)":a["Cebu Biomass (GWh)"],"Cebu Solar (GWh)":a["Cebu Solar (GWh)"],"Cebu Wind (GWh)":a["Cebu Wind (GWh)"],"Negros Total Power Generation (GWh)":a["Negros Total Power Generation (GWh)"],"Negros Total Renewable Energy (GWh)":a["Negros Total Renewable Energy (GWh)"],"Negros Total Non-Renewable Energy (GWh)":a["Negros Total Non-Renewable Energy (GWh)"],"Negros Geothermal (GWh)":a["Negros Geothermal (GWh)"],"Negros Hydro (GWh)":a["Negros Hydro (GWh)"],"Negros Biomass (GWh)":a["Negros Biomass (GWh)"],"Negros Solar (GWh)":a["Negros Solar (GWh)"],"Negros Wind (GWh)":a["Negros Wind (GWh)"],"Panay Total Power Generation (GWh)":a["Panay Total Power Generation (GWh)"],"Panay Total Renewable Energy (GWh)":a["Panay Total Renewable Energy (GWh)"],"Panay Total Non-Renewable Energy (GWh)":a["Panay Total Non-Renewable Energy (GWh)"],"Panay Geothermal (GWh)":a["Panay Geothermal (GWh)"],"Panay Hydro (GWh)":a["Panay Hydro (GWh)"],"Panay Biomass (GWh)":a["Panay Biomass (GWh)"],"Panay Solar (GWh)":a["Panay Solar (GWh)"],"Panay Wind (GWh)":a["Panay Wind (GWh)"],"Leyte-Samar Total Power Generation (GWh)":a["Leyte-Samar Total Power Generation (GWh)"],"Leyte-Samar Total Renewable (GWh)":a["Leyte-Samar Total Renewable (GWh)"],"Leyte-Samar Total Non-Renewable (GWh)":a["Leyte-Samar Total Non-Renewable (GWh)"],"Leyte-Samar Geothermal (GWh)":a["Leyte-Samar Geothermal (GWh)"],"Leyte-Samar Hydro (GWh)":a["Leyte-Samar Hydro (GWh)"],"Leyte-Samar Biomass (GWh)":a["Leyte-Samar Biomass (GWh)"],"Leyte-Samar Solar (GWh)":a["Leyte-Samar Solar (GWh)"],"Leyte-Samar Wind (GWh)":a["Leyte-Samar Wind (GWh)"],"Bohol Total Power Generation (GWh)":a["Bohol Total Power Generation (GWh)"],"Bohol Total Renewable (GWh)":a["Bohol Total Renewable (GWh)"],"Bohol Total Non-Renewable (GWh)":a["Bohol Total Non-Renewable (GWh)"],"Bohol Geothermal (GWh)":a["Bohol Geothermal (GWh)"],"Bohol Hydro (GWh)":a["Bohol Hydro (GWh)"],"Bohol Biomass (GWh)":a["Bohol Biomass (GWh)"],"Bohol Solar (GWh)":a["Bohol Solar (GWh)"],"Bohol Wind (GWh)":a["Bohol Wind (GWh)"],"Visayas Total Power Generation (GWh)":a["Visayas Total Power Generation (GWh)"],"Visayas Total Power Consumption (GWh)":a["Visayas Total Power Consumption (GWh)"],"Solar Cost (PHP/W)":a["Solar Cost (PHP/W)"],"MERALCO Rate (PHP/kWh)":a["MERALCO Rate (PHP/kWh)"]};if(i){const b=await $.put(`/api/update/${a.year}/`,m);return console.log("Record updated successfully:",b.data),{success:!0,message:"Record updated successfully",data:b.data}}else{const b=await $.post("/api/create/peertopeer/",m);return console.log("Record created successfully:",b.data),{success:!0,message:"Record created successfully",data:b.data}}}catch(m){return console.error("Error submitting form:",m),{success:!1,message:((c=(W=m.response)==null?void 0:W.data)==null?void 0:c.message)||"An error occurred while saving the record",error:m}}};return h.useEffect(()=>{T("Cebu")},[a["Cebu Geothermal (GWh)"],a["Cebu Hydro (GWh)"],a["Cebu Biomass (GWh)"],a["Cebu Solar (GWh)"],a["Cebu Wind (GWh)"]]),h.useEffect(()=>{T("Negros")},[a["Negros Geothermal (GWh)"],a["Negros Hydro (GWh)"],a["Negros Biomass (GWh)"],a["Negros Solar (GWh)"],a["Negros Wind (GWh)"]]),h.useEffect(()=>{T("Panay")},[a["Panay Geothermal (GWh)"],a["Panay Hydro (GWh)"],a["Panay Biomass (GWh)"],a["Panay Solar (GWh)"],a["Panay Wind (GWh)"]]),h.useEffect(()=>{T("Leyte-Samar")},[a["Leyte-Samar Geothermal (GWh)"],a["Leyte-Samar Hydro (GWh)"],a["Leyte-Samar Biomass (GWh)"],a["Leyte-Samar Solar (GWh)"],a["Leyte-Samar Wind (GWh)"]]),h.useEffect(()=>{T("Bohol")},[a["Bohol Geothermal (GWh)"],a["Bohol Hydro (GWh)"],a["Bohol Biomass (GWh)"],a["Bohol Solar (GWh)"],a["Bohol Wind (GWh)"]]),h.useEffect(()=>{j("Cebu")},[a["Cebu Total Renewable Energy (GWh)"],a["Cebu Total Non-Renewable Energy (GWh)"]]),h.useEffect(()=>{j("Negros")},[a["Negros Total Renewable Energy (GWh)"],a["Negros Total Non-Renewable Energy (GWh)"]]),h.useEffect(()=>{j("Panay")},[a["Panay Total Renewable Energy (GWh)"],a["Panay Total Non-Renewable Energy (GWh)"]]),h.useEffect(()=>{j("Leyte-Samar")},[a["Leyte-Samar Total Renewable (GWh)"],a["Leyte-Samar Total Non-Renewable (GWh)"]]),h.useEffect(()=>{j("Bohol")},[a["Bohol Total Renewable (GWh)"],a["Bohol Total Non-Renewable (GWh)"]]),h.useEffect(()=>{V()},[a["Cebu Total Power Generation (GWh)"],a["Negros Total Power Generation (GWh)"],a["Panay Total Power Generation (GWh)"],a["Leyte-Samar Total Power Generation (GWh)"],a["Bohol Total Power Generation (GWh)"]]),{formValues:a,setFormValue:G,resetForm:N,handleSubmit:E}},k=({children:f,className:a,variant:y,onClick:N,disabled:G,icon:T})=>e.jsxs("button",{className:`px-4 py-2 rounded-md font-medium ${y==="primary"?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"} ${a} ${G?"opacity-50 cursor-not-allowed":""}`,onClick:N,disabled:G,children:[T&&T,f]}),we=({children:f,className:a})=>e.jsx("div",{className:`bg-white rounded-lg shadow-md ${a}`,children:f}),n=({label:f,value:a,placeholder:y,disabled:N,onChange:G})=>e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:f}),e.jsx("input",{type:"text",className:`border rounded-md p-2 w-full ${N?"bg-gray-100":""}`,placeholder:y,value:a||"",disabled:N,readOnly:N,onChange:G})]}),H=({text:f,highlight:a})=>{if(!a.trim())return e.jsx("span",{children:f});const y=new RegExp(`(${a})`,"gi"),N=String(f).split(y);return e.jsx("span",{children:N.map((G,T)=>y.test(G)?e.jsx("span",{className:"bg-yellow-200 font-medium",children:G},T):e.jsx("span",{children:G},T))})},Fe=()=>{const[f,a]=h.useState(!1),[y,N]=h.useState({}),[G,T]=h.useState(new Date().getFullYear()),[j,V]=h.useState(!1),[E,i]=h.useState({open:!1,message:"",type:"info"}),[W,c]=h.useState([]),[m,b]=h.useState(!0),[v,P]=h.useState(null),[x,z]=h.useState(""),[C,O]=h.useState({key:"year",direction:"asc"}),A=h.useRef(null),{formValues:s,setFormValue:u,resetForm:g}=be();h.useEffect(()=>{const o=r=>{(r.ctrlKey||r.metaKey)&&r.key==="f"&&A.current&&(r.preventDefault(),A.current.focus()),r.key==="Escape"&&x&&(r.preventDefault(),Y())};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[x]);const w=h.useCallback(async(o=0)=>{b(!0),P(null);try{console.log("Fetching data for all available years");const r=await $.get("/api/peertopeer/records");if(console.log("MongoDB data response:",r.data),r.data.status==="success"){const t=r.data.records||[];if(console.log(`Received ${t.length} records from MongoDB`),t.length>0){const l=q(t);console.log("Processed data:",l),c(l)}else P("No data available in the database")}else P(`Error: ${r.data.message||"Unknown error"}`)}catch(r){if(console.error("Error fetching peer-to-peer data:",r),(r.code==="ECONNABORTED"||r.code==="ERR_NETWORK")&&o<2){console.log(`Retrying fetch attempt ${o+1}...`),setTimeout(()=>{w(o+1)},2e3);return}r.code==="ECONNABORTED"?P("Request timed out. The server is taking too long to respond. Please check if your backend server is running correctly."):r.code==="ERR_NETWORK"?P("Network error. Unable to connect to the server. Please make sure your Django server is running at http://127.0.0.1:8000"):P(`Error fetching data: ${r.message}`)}finally{b(!1)}},[]),q=o=>[...new Set(o.map(t=>t.Year||t.year))].sort().map(t=>{const l=o.filter(R=>(R.Year||R.year)===t),S={_id:l[0]._id,year:t,cebuTotal:0,negrosTotal:0,panayTotal:0,leyteSamarTotal:0,boholTotal:0,visayasTotal:0,visayasConsumption:0,solarCost:0,meralcoRate:0,allRecords:l};return l.forEach(R=>{const D=p=>{if(p==null)return 0;if(typeof p=="number")return p;if(typeof p=="string"){const U=parseFloat(p.replace(/,/g,""));return isNaN(U)?0:U}return 0};Object.keys(R).forEach(p=>{p==="Cebu Total Power Generation (GWh)"?S.cebuTotal=D(R[p]):p==="Negros Total Power Generation (GWh)"?S.negrosTotal=D(R[p]):p==="Panay Total Power Generation (GWh)"?S.panayTotal=D(R[p]):p==="Leyte-Samar Total Power Generation (GWh)"?S.leyteSamarTotal=D(R[p]):p==="Bohol Total Power Generation (GWh)"?S.boholTotal=D(R[p]):p==="Visayas Total Power Generation (GWh)"?S.visayasTotal=D(R[p]):p==="Visayas Total Power Consumption (GWh)"&&(S.visayasConsumption=D(R[p]))})}),S});h.useEffect(()=>{w()},[w]);const Q=(o={})=>{if(console.log("Opening modal with record:",o),N(o),V(!!o._id),g(),o._id){T(o.year),u("year",o.year);const r=o.allRecords||[];console.log("Year records for form population:",r);const t=(l,S)=>{S!=null&&(console.log(`Setting form value: ${l} = ${S}`),u(l,S))};r.forEach(l=>{t("Cebu Total Power Generation (GWh)",l["Cebu Total Power Generation (GWh)"]),t("Cebu Total Non-Renewable Energy (GWh)",l["Cebu Total Non-Renewable Energy (GWh)"]),t("Cebu Total Renewable Energy (GWh)",l["Cebu Total Renewable Energy (GWh)"]),t("Cebu Geothermal (GWh)",l["Cebu Geothermal (GWh)"]),t("Cebu Hydro (GWh)",l["Cebu Hydro (GWh)"]),t("Cebu Biomass (GWh)",l["Cebu Biomass (GWh)"]),t("Cebu Solar (GWh)",l["Cebu Solar (GWh)"]),t("Cebu Wind (GWh)",l["Cebu Wind (GWh)"]),t("Negros Total Power Generation (GWh)",l["Negros Total Power Generation (GWh)"]),t("Negros Total Non-Renewable Energy (GWh)",l["Negros Total Non-Renewable Energy (GWh)"]),t("Negros Total Renewable Energy (GWh)",l["Negros Total Renewable Energy (GWh)"]),t("Negros Geothermal (GWh)",l["Negros Geothermal (GWh)"]),t("Negros Hydro (GWh)",l["Negros Hydro (GWh)"]),t("Negros Biomass (GWh)",l["Negros Biomass (GWh)"]),t("Negros Solar (GWh)",l["Negros Solar (GWh)"]),t("Negros Wind (GWh)",l["Negros Wind (GWh)"]),t("Panay Total Power Generation (GWh)",l["Panay Total Power Generation (GWh)"]),t("Panay Total Non-Renewable Energy (GWh)",l["Panay Total Non-Renewable Energy (GWh)"]),t("Panay Total Renewable Energy (GWh)",l["Panay Total Renewable Energy (GWh)"]),t("Panay Geothermal (GWh)",l["Panay Geothermal (GWh)"]),t("Panay Hydro (GWh)",l["Panay Hydro (GWh)"]),t("Panay Biomass (GWh)",l["Panay Biomass (GWh)"]),t("Panay Solar (GWh)",l["Panay Solar (GWh)"]),t("Panay Wind (GWh)",l["Panay Wind (GWh)"]),t("Leyte-Samar Total Power Generation (GWh)",l["Leyte-Samar Total Power Generation (GWh)"]),t("Leyte-Samar Total Non-Renewable (GWh)",l["Leyte-Samar Total Non-Renewable (GWh)"]),t("Leyte-Samar Total Renewable (GWh)",l["Leyte-Samar Total Renewable (GWh)"]),t("Leyte-Samar Geothermal (GWh)",l["Leyte-Samar Geothermal (GWh)"]),t("Leyte-Samar Hydro (GWh)",l["Leyte-Samar Hydro (GWh)"]),t("Leyte-Samar Biomass (GWh)",l["Leyte-Samar Biomass (GWh)"]),t("Leyte-Samar Solar (GWh)",l["Leyte-Samar Solar (GWh)"]),t("Leyte-Samar Wind (GWh)",l["Leyte-Samar Wind (GWh)"]),t("Bohol Total Power Generation (GWh)",l["Bohol Total Power Generation (GWh)"]),t("Bohol Total Non-Renewable (GWh)",l["Bohol Total Non-Renewable (GWh)"]),t("Bohol Total Renewable (GWh)",l["Bohol Total Renewable (GWh)"]),t("Bohol Geothermal (GWh)",l["Bohol Geothermal (GWh)"]),t("Bohol Hydro (GWh)",l["Bohol Hydro (GWh)"]),t("Bohol Biomass (GWh)",l["Bohol Biomass (GWh)"]),t("Bohol Solar (GWh)",l["Bohol Solar (GWh)"]),t("Bohol Wind (GWh)",l["Bohol Wind (GWh)"]),t("Visayas Total Power Generation (GWh)",l["Visayas Total Power Generation (GWh)"]),t("Visayas Total Power Consumption (GWh)",l["Visayas Total Power Consumption (GWh)"])}),console.log("Populated form values:",s)}a(!0)},J=h.useCallback(async o=>{if(window.confirm("Are you sure you want to delete this record?")){b(!0);try{const r=await $.delete(`/api/peertopeer/records/${o}`);r.data.status==="success"?(i({open:!0,message:"Record deleted successfully!",type:"success"}),w()):i({open:!0,message:`Error: ${r.data.message}`,type:"error"})}catch(r){console.error("Error deleting record:",r),i({open:!0,message:`Error: ${r.message}`,type:"error"})}finally{b(!1)}}},[w]),_=()=>{i(o=>({...o,open:!1}))},Z=h.useCallback(()=>{V(!1),N({}),g(),T(new Date().getFullYear()),a(!0)},[g]),M=()=>a(!1),ee=h.useCallback(o=>{T(o),u("year",o)},[u]),d=h.useCallback((o,r)=>{u(o,r.target.value)},[u]),ae=h.useCallback(async()=>{b(!0);try{const o={Year:G,...s};console.log("Saving record with payload:",o);let r;j&&y._id?r=await $.put(`/api/peertopeer/records/${y._id}`,o):r=await $.post("/api/peertopeer/records",o),r.data.status==="success"?(i({open:!0,message:j?"Record updated successfully!":"Record created successfully!",type:"success"}),a(!1),w()):i({open:!0,message:`Error: ${r.data.message||"Unknown error"}`,type:"error"})}catch(o){console.error("Error in handleSaveRecord:",o),i({open:!0,message:`Error: ${o.message}`,type:"error"})}finally{b(!1)}},[s,j,y._id,G,w]),oe=o=>{z(o.target.value)},Y=()=>{z(""),A.current&&A.current.focus()},L=o=>{let r="asc";C.key===o&&C.direction==="asc"&&(r="desc"),O({key:o,direction:r})},F=o=>C.key!==o?e.jsx("svg",{className:"w-4 h-4 ml-1 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}):C.direction==="asc"?e.jsx("svg",{className:"w-4 h-4 ml-1 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L6.707 7.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}):e.jsx("svg",{className:"w-4 h-4 ml-1 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M14.707 12.293a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l2.293-2.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),te=()=>{if(!x.trim())return W;const o=x.toLowerCase().trim();return W.filter(r=>String(r.year).toLowerCase().includes(o)||String(r.cebuTotal).toLowerCase().includes(o)||String(r.negrosTotal).toLowerCase().includes(o)||String(r.panayTotal).toLowerCase().includes(o)||String(r.leyteSamarTotal).toLowerCase().includes(o)||String(r.boholTotal).toLowerCase().includes(o)||String(r.visayasTotal).toLowerCase().includes(o)||String(r.visayasConsumption).toLowerCase().includes(o))},le=o=>C.key?[...o].sort((r,t)=>r[C.key]<t[C.key]?C.direction==="asc"?-1:1:r[C.key]>t[C.key]?C.direction==="asc"?1:-1:0):o,I=h.useMemo(()=>te(),[W,x]),B=h.useMemo(()=>le(I),[I,C]),re=async()=>{try{const o=await pe(B);i(o?{open:!0,message:"PDF exported successfully!",type:"success"}:{open:!0,message:"Failed to export PDF. Please try again.",type:"error"})}catch(o){console.error("Export error:",o),i({open:!0,message:"Error exporting PDF: "+o.message,type:"error"})}},se=()=>e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-6 text-center",children:[e.jsx("div",{className:"text-red-500 text-4xl mb-4",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("path",{d:"M12 8v4M12 16h.01"})]})}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Connection Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:v}),e.jsx("div",{className:"flex justify-center",children:e.jsx(k,{variant:"primary",onClick:()=>w(),disabled:m,children:m?"Trying Again...":"Retry Connection"})}),e.jsxs("div",{className:"mt-4 text-gray-500 text-sm",children:[e.jsx("p",{children:"Troubleshooting Steps:"}),e.jsxs("ol",{className:"list-decimal text-left inline-block mt-2",children:[e.jsx("li",{children:"Ensure your Django server is running"}),e.jsx("li",{children:"Check for any errors in Django console"}),e.jsx("li",{children:"Verify your database connection settings"}),e.jsx("li",{children:"Check if MongoDB is accessible"})]})]})]});return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-blue-500",children:e.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Peer-to-Peer Energy Data"}),e.jsx("p",{className:"text-gray-500",children:"Manage regional energy generation and consumption data"})]})]}),e.jsx(k,{variant:"primary",className:"flex items-center gap-2",onClick:Z,disabled:m,icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),children:"Add New Record"})]}),e.jsxs(we,{className:"mb-6",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-medium",children:"Peer-to-Peer Energy Records"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mt-2 gap-4",children:[e.jsxs("div",{className:"relative w-full md:w-1/2",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),e.jsx("input",{type:"text",placeholder:"Search records... (Ctrl+F)",className:"pl-10 pr-10 py-2 w-full border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",value:x,onChange:oe,ref:A,disabled:m}),x&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:e.jsx("button",{type:"button",onClick:Y,className:"text-gray-400 hover:text-gray-600",disabled:m,children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{title:"Refresh data",arrow:!0,children:e.jsx(k,{variant:"secondary",className:"flex items-center gap-1",onClick:w,disabled:m,icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}),children:m?"Loading...":"Refresh"})}),e.jsx(X,{title:"Export to PDF",arrow:!0,children:e.jsx(k,{variant:"primary",className:"flex items-center gap-1",onClick:re,disabled:m||!B.length,icon:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v3.586l-1.293-1.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V8z",clipRule:"evenodd"})}),children:"Export"})})]})]}),x&&e.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Found ",B.length," ",B.length===1?"result":"results",B.length!==W.length&&` out of ${W.length} records`]})]}),e.jsx("div",{className:"overflow-x-auto",children:m?e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx(ie,{}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading data..."})]}):v&&(v.includes("Network error")||v.includes("timed out"))?se():v?e.jsx("div",{className:"text-red-500 text-center p-8",children:v}):B.length===0?e.jsx("div",{className:"text-gray-500 text-center p-8",children:x?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium",children:"No matching records found"}),e.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search query"}),e.jsx("button",{onClick:Y,className:"mt-3 text-blue-500 hover:text-blue-700 underline",children:"Clear search"})]}):"No data available."}):e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>L("year"),children:e.jsxs("div",{className:"flex items-center",children:["Year ",F("year")]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>L("cebuTotal"),children:e.jsxs("div",{className:"flex items-center",children:["Cebu Total ",F("cebuTotal")]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>L("negrosTotal"),children:e.jsxs("div",{className:"flex items-center",children:["Negros Total ",F("negrosTotal")]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>L("panayTotal"),children:e.jsxs("div",{className:"flex items-center",children:["Panay Total ",F("panayTotal")]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>L("leyteSamarTotal"),children:e.jsxs("div",{className:"flex items-center",children:["Leyte-Samar Total ",F("leyteSamarTotal")]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>L("boholTotal"),children:e.jsxs("div",{className:"flex items-center",children:["Bohol Total ",F("boholTotal")]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>L("visayasTotal"),children:e.jsxs("div",{className:"flex items-center",children:["Visayas Total ",F("visayasTotal")]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>L("visayasConsumption"),children:e.jsxs("div",{className:"flex items-center",children:["Visayas Consumption ",F("visayasConsumption")]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Solar Cost"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MERALCO Rate"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map(o=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.jsx(H,{text:o.year,highlight:x})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx(H,{text:o.cebuTotal.toFixed(2),highlight:x})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx(H,{text:o.negrosTotal.toFixed(2),highlight:x})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx(H,{text:o.panayTotal.toFixed(2),highlight:x})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx(H,{text:o.leyteSamarTotal.toFixed(2),highlight:x})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx(H,{text:o.boholTotal.toFixed(2),highlight:x})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx(H,{text:o.visayasTotal.toFixed(2),highlight:x})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx(H,{text:o.visayasConsumption.toFixed(2),highlight:x})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.solarCost.toFixed(2)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.meralcoRate.toFixed(2)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 rounded transition duration-150",onClick:()=>Q(o),children:"Edit"}),e.jsx("button",{className:"text-red-600 hover:text-red-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 rounded transition duration-150",onClick:()=>J(o._id),children:"Delete"})]})]},o._id||o.year))})]})}),e.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",e.jsx("span",{className:"font-medium",children:"1"})," to ",e.jsx("span",{className:"font-medium",children:B.length})," of ",e.jsx("span",{className:"font-medium",children:W.length})," records",x&&B.length!==W.length&&e.jsxs("span",{className:"ml-2 italic text-gray-400",children:["(filtered from ",W.length," total)"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{variant:"secondary",className:"mr-2",disabled:!0,children:"Previous"}),e.jsx(k,{variant:"secondary",disabled:!0,children:"Next"})]})]})]}),e.jsxs(he,{open:f,onClose:M,maxWidth:"md",fullWidth:!0,children:[e.jsxs(ce,{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-medium",children:j?"Edit Record":"Add New Record"}),e.jsx(de,{onClick:M,size:"small",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx(ue,{children:e.jsxs(me,{className:"p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),e.jsx(We,{initialYear:G,onYearChange:ee})]}),e.jsxs("div",{className:"border p-4 rounded-md",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Cebu"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{label:"Total Power Generation (GWh)",value:s["Cebu Total Power Generation (GWh)"],disabled:!0,placeholder:"Auto-calculated"}),e.jsx(n,{label:"Total Non-Renewable Energy (GWh)",value:s["Cebu Total Non-Renewable Energy (GWh)"],onChange:o=>d("Cebu Total Non-Renewable Energy (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Total Renewable Energy (GWh)",value:s["Cebu Total Renewable Energy (GWh)"],disabled:!0,placeholder:"Auto-calculated"}),e.jsx(n,{label:"Geothermal (GWh)",value:s["Cebu Geothermal (GWh)"],onChange:o=>d("Cebu Geothermal (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Hydro (GWh)",value:s["Cebu Hydro (GWh)"],onChange:o=>d("Cebu Hydro (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Biomass (GWh)",value:s["Cebu Biomass (GWh)"],onChange:o=>d("Cebu Biomass (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Solar (GWh)",value:s["Cebu Solar (GWh)"],onChange:o=>d("Cebu Solar (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Wind (GWh)",value:s["Cebu Wind (GWh)"],onChange:o=>d("Cebu Wind (GWh)",o),placeholder:"Enter value"})]})]}),e.jsxs("div",{className:"border p-4 rounded-md",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Negros"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{label:"Total Power Generation (GWh)",value:s["Negros Total Power Generation (GWh)"],disabled:!0,placeholder:"Auto-calculated"}),e.jsx(n,{label:"Total Non-Renewable Energy (GWh)",value:s["Negros Total Non-Renewable Energy (GWh)"],onChange:o=>d("Negros Total Non-Renewable Energy (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Total Renewable Energy (GWh)",value:s["Negros Total Renewable Energy (GWh)"],disabled:!0,placeholder:"Auto-calculated"}),e.jsx(n,{label:"Geothermal (GWh)",value:s["Negros Geothermal (GWh)"],onChange:o=>d("Negros Geothermal (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Hydro (GWh)",value:s["Negros Hydro (GWh)"],onChange:o=>d("Negros Hydro (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Biomass (GWh)",value:s["Negros Biomass (GWh)"],onChange:o=>d("Negros Biomass (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Solar (GWh)",value:s["Negros Solar (GWh)"],onChange:o=>d("Negros Solar (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Wind (GWh)",value:s["Negros Wind (GWh)"],onChange:o=>d("Negros Wind (GWh)",o),placeholder:"Enter value"})]})]}),e.jsxs("div",{className:"border p-4 rounded-md",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Panay"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{label:"Total Power Generation (GWh)",value:s["Panay Total Power Generation (GWh)"],disabled:!0,placeholder:"Auto-calculated"}),e.jsx(n,{label:"Total Non-Renewable Energy (GWh)",value:s["Panay Total Non-Renewable Energy (GWh)"],onChange:o=>d("Panay Total Non-Renewable Energy (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Total Renewable Energy (GWh)",value:s["Panay Total Renewable Energy (GWh)"],disabled:!0,placeholder:"Auto-calculated"}),e.jsx(n,{label:"Geothermal (GWh)",value:s["Panay Geothermal (GWh)"],onChange:o=>d("Panay Geothermal (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Hydro (GWh)",value:s["Panay Hydro (GWh)"],onChange:o=>d("Panay Hydro (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Biomass (GWh)",value:s["Panay Biomass (GWh)"],onChange:o=>d("Panay Biomass (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Solar (GWh)",value:s["Panay Solar (GWh)"],onChange:o=>d("Panay Solar (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Wind (GWh)",value:s["Panay Wind (GWh)"],onChange:o=>d("Panay Wind (GWh)",o),placeholder:"Enter value"})]})]}),e.jsxs("div",{className:"border p-4 rounded-md",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Leyte-Samar"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{label:"Total Power Generation (GWh)",value:s["Leyte-Samar Total Power Generation (GWh)"],disabled:!0,placeholder:"Auto-calculated"}),e.jsx(n,{label:"Total Non-Renewable Energy (GWh)",value:s["Leyte-Samar Total Non-Renewable (GWh)"],onChange:o=>d("Leyte-Samar Total Non-Renewable (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Total Renewable Energy (GWh)",value:s["Leyte-Samar Total Renewable (GWh)"],disabled:!0,placeholder:"Auto-calculated"}),e.jsx(n,{label:"Geothermal (GWh)",value:s["Leyte-Samar Geothermal (GWh)"],onChange:o=>d("Leyte-Samar Geothermal (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Hydro (GWh)",value:s["Leyte-Samar Hydro (GWh)"],onChange:o=>d("Leyte-Samar Hydro (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Biomass (GWh)",value:s["Leyte-Samar Biomass (GWh)"],onChange:o=>d("Leyte-Samar Biomass (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Solar (GWh)",value:s["Leyte-Samar Solar (GWh)"],onChange:o=>d("Leyte-Samar Solar (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Wind (GWh)",value:s["Leyte-Samar Wind (GWh)"],onChange:o=>d("Leyte-Samar Wind (GWh)",o),placeholder:"Enter value"})]})]}),e.jsxs("div",{className:"border p-4 rounded-md",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Bohol"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{label:"Total Power Generation (GWh)",value:s["Bohol Total Power Generation (GWh)"],disabled:!0,placeholder:"Auto-calculated"}),e.jsx(n,{label:"Total Non-Renewable Energy (GWh)",value:s["Bohol Total Non-Renewable (GWh)"],onChange:o=>d("Bohol Total Non-Renewable (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Total Renewable Energy (GWh)",value:s["Bohol Total Renewable (GWh)"],disabled:!0,placeholder:"Auto-calculated"}),e.jsx(n,{label:"Geothermal (GWh)",value:s["Bohol Geothermal (GWh)"],onChange:o=>d("Bohol Geothermal (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Hydro (GWh)",value:s["Bohol Hydro (GWh)"],onChange:o=>d("Bohol Hydro (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Biomass (GWh)",value:s["Bohol Biomass (GWh)"],onChange:o=>d("Bohol Biomass (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Solar (GWh)",value:s["Bohol Solar (GWh)"],onChange:o=>d("Bohol Solar (GWh)",o),placeholder:"Enter value"}),e.jsx(n,{label:"Wind (GWh)",value:s["Bohol Wind (GWh)"],onChange:o=>d("Bohol Wind (GWh)",o),placeholder:"Enter value"})]})]}),e.jsxs("div",{className:"border p-4 rounded-md bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Visayas"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{label:"Total Power Generation (GWh)",value:s["Visayas Total Power Generation (GWh)"],disabled:!0,placeholder:"Auto-calculated"}),e.jsx(n,{label:"Total Power Consumption (GWh)",value:s["Visayas Total Power Consumption (GWh)"],onChange:o=>d("Visayas Total Power Consumption (GWh)",o),placeholder:"Enter value"})]})]})]})}),e.jsxs(ge,{className:"p-4",children:[e.jsx(k,{variant:"secondary",onClick:M,className:"mr-2",disabled:m,children:"Cancel"}),e.jsx(k,{variant:"primary",onClick:ae,disabled:m,children:m?"Processing...":j?"Update":"Save"})]})]}),e.jsx(ye,{open:E.open,autoHideDuration:6e3,onClose:_,children:e.jsx(Ge,{onClose:_,severity:E.type,sx:{width:"100%"},children:E.message})})]})};export{Fe as default};
