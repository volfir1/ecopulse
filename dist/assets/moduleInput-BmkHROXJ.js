import{ap as Ne,ao as $e,r as u,aq as We,aT as Ae,aU as Ve,aY as Ye,T as $,j as l,aj as he,ag as q,aP as D,ar as De,aV as Y,aa as we,aW as qe,by as Be,bz as He,R as V,a1 as Ue,b as Xe,B as se,a as le,V as Ke,E as Ze,ac as Je}from"./index-CeiZKB8G.js";import{S as Qe}from"./SingleYearPicker--w-JP6tS.js";import{C as et}from"./Container-Df-kvLoc.js";import{G as E}from"./Grid-D1VGGK9h.js";import{S as tt}from"./SwitchBase-BXTMIM8-.js";import{T}from"./TextField-CJViWXc3.js";import{C as nt}from"./chevron-left-DiR3IZnr.js";import"./DatePicker-Ds6sJbAa.js";import"./index-D_GLsIW_.js";import"./useThemeProps-B7RzBULZ.js";import"./index-BGHELInD.js";import"./Select-CMa9xVQT.js";import"./Chip-D2qSxnvf.js";import"./AdapterDayjs-J5u3snYC.js";import"./refresh-ccw-DYG20dKq.js";import"./styled-ZZIuKTKu.js";function at(e){return $e("MuiFormControlLabel",e)}const X=Ne("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),rt=e=>{const{classes:n,disabled:r,labelPlacement:o,error:a,required:t}=e,i={root:["root",r&&"disabled",`labelPlacement${D(o)}`,a&&"error",t&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",a&&"error"]};return De(i,at,n)},ot=q("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:r}=e;return[{[`& .${X.label}`]:n.label},n.root,n[`labelPlacement${D(r.labelPlacement)}`]]}})(Y(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${X.disabled}`]:{cursor:"default"},[`& .${X.label}`]:{[`&.${X.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:n})=>n==="start"||n==="top"||n==="bottom",style:{marginLeft:16}}]}))),it=q("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,n)=>n.asterisk})(Y(({theme:e})=>({[`&.${X.error}`]:{color:(e.vars||e).palette.error.main}}))),st=u.forwardRef(function(n,r){const o=We({props:n,name:"MuiFormControlLabel"}),{checked:a,className:t,componentsProps:i={},control:s,disabled:c,disableTypography:h,inputRef:p,label:m,labelPlacement:f="end",name:j,onChange:g,required:d,slots:v={},slotProps:x={},value:y,...k}=o,C=Ae(),P=c??s.props.disabled??(C==null?void 0:C.disabled),w=d??s.props.required,b={disabled:P,required:w};["checked","name","onChange","value","inputRef"].forEach(J=>{typeof s.props[J]>"u"&&typeof o[J]<"u"&&(b[J]=o[J])});const M=Ve({props:o,muiFormControl:C,states:["error"]}),R={...o,disabled:P,labelPlacement:f,required:w,error:M.error},ie=rt(R),_e={slots:v,slotProps:{...i,...x}},[ze,Z]=Ye("typography",{elementType:$,externalForwardedProps:_e,ownerState:R});let G=m;return G!=null&&G.type!==$&&!h&&(G=l.jsx(ze,{component:"span",...Z,className:he(ie.label,Z==null?void 0:Z.className),children:G})),l.jsxs(ot,{className:he(ie.root,t),ownerState:R,ref:r,...k,children:[u.cloneElement(s,b),w?l.jsxs("div",{children:[G,l.jsxs(it,{ownerState:R,"aria-hidden":!0,className:ie.asterisk,children:["â€‰","*"]})]}):G]})});function lt(e){return $e("MuiSwitch",e)}const S=Ne("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ct=e=>{const{classes:n,edge:r,size:o,color:a,checked:t,disabled:i}=e,s={root:["root",r&&`edge${D(r)}`,`size${D(o)}`],switchBase:["switchBase",`color${D(a)}`,t&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},c=De(s,lt,n);return{...n,...c}},ut=q("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:r}=e;return[n.root,r.edge&&n[`edge${D(r.edge)}`],n[`size${D(r.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${S.thumb}`]:{width:16,height:16},[`& .${S.switchBase}`]:{padding:4,[`&.${S.checked}`]:{transform:"translateX(16px)"}}}}]}),dt=q(tt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,n)=>{const{ownerState:r}=e;return[n.switchBase,{[`& .${S.input}`]:n.input},r.color!=="default"&&n[`color${D(r.color)}`]]}})(Y(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${S.checked}`]:{transform:"translateX(20px)"},[`&.${S.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${S.checked} + .${S.track}`]:{opacity:.5},[`&.${S.disabled} + .${S.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${S.input}`]:{left:"-100%",width:"300%"}})),Y(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:we(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(qe(["light"])).map(([n])=>({props:{color:n},style:{[`&.${S.checked}`]:{color:(e.vars||e).palette[n].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:we(e.palette[n].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${S.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${n}DisabledColor`]:`${e.palette.mode==="light"?Be(e.palette[n].main,.62):He(e.palette[n].main,.55)}`}},[`&.${S.checked} + .${S.track}`]:{backgroundColor:(e.vars||e).palette[n].main}}}))]}))),pt=q("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,n)=>n.track})(Y(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),ft=q("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,n)=>n.thumb})(Y(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),mt=u.forwardRef(function(n,r){const o=We({props:n,name:"MuiSwitch"}),{className:a,color:t="primary",edge:i=!1,size:s="medium",sx:c,...h}=o,p={...o,color:t,edge:i,size:s},m=ct(p),f=l.jsx(ft,{className:m.thumb,ownerState:p});return l.jsxs(ut,{className:he(m.root,a),sx:c,ownerState:p,children:[l.jsx(dt,{type:"checkbox",icon:f,checkedIcon:f,ref:r,ownerState:p,...h,classes:{...m,root:m.switchBase}}),l.jsx(pt,{className:m.track,ownerState:p})]})});function Me(e){var n,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(r=Me(e[n]))&&(o&&(o+=" "),o+=r);else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function re(){for(var e,n,r=0,o="";r<arguments.length;)(e=arguments[r++])&&(n=Me(e))&&(o&&(o+=" "),o+=n);return o}let ht={data:""},gt=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ht,bt=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vt=/\/\*[^]*?\*\/|  +/g,Ee=/\n+/g,O=(e,n)=>{let r="",o="",a="";for(let t in e){let i=e[t];t[0]=="@"?t[1]=="i"?r=t+" "+i+";":o+=t[1]=="f"?O(i,t):t+"{"+O(i,t[1]=="k"?"":n)+"}":typeof i=="object"?o+=O(i,n?n.replace(/([^,])+/g,s=>t.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,s):s?s+" "+c:c)):t):i!=null&&(t=/^--/.test(t)?t:t.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=O.p?O.p(t,i):t+":"+i+";")}return r+(n&&a?n+"{"+a+"}":a)+o},F={},Le=e=>{if(typeof e=="object"){let n="";for(let r in e)n+=r+Le(e[r]);return n}return e},xt=(e,n,r,o,a)=>{let t=Le(e),i=F[t]||(F[t]=(c=>{let h=0,p=11;for(;h<c.length;)p=101*p+c.charCodeAt(h++)>>>0;return"go"+p})(t));if(!F[i]){let c=t!==e?e:(h=>{let p,m,f=[{}];for(;p=bt.exec(h.replace(vt,""));)p[4]?f.shift():p[3]?(m=p[3].replace(Ee," ").trim(),f.unshift(f[0][m]=f[0][m]||{})):f[0][p[1]]=p[2].replace(Ee," ").trim();return f[0]})(e);F[i]=O(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let s=r&&F.g?F.g:null;return r&&(F.g=F[i]),((c,h,p,m)=>{m?h.data=h.data.replace(m,c):h.data.indexOf(c)===-1&&(h.data=p?c+h.data:h.data+c)})(F[i],n,o,s),i},yt=(e,n,r)=>e.reduce((o,a,t)=>{let i=n[t];if(i&&i.call){let s=i(r),c=s&&s.props&&s.props.className||/^go/.test(s)&&s;i=c?"."+c:s&&typeof s=="object"?s.props?"":O(s,""):s===!1?"":s}return o+a+(i??"")},"");function ve(e){let n=this||{},r=e.call?e(n.p):e;return xt(r.unshift?r.raw?yt(r,[].slice.call(arguments,1),n.p):r.reduce((o,a)=>Object.assign(o,a&&a.call?a(n.p):a),{}):r,gt(n.target),n.g,n.o,n.k)}ve.bind({g:1});ve.bind({k:1});function wt(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Et(e,n,r){return n&&wt(e.prototype,n),e}function W(){return W=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},W.apply(this,arguments)}function kt(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}function xe(e,n){if(e==null)return{};var r={},o=Object.keys(e),a,t;for(t=0;t<o.length;t++)a=o[t],!(n.indexOf(a)>=0)&&(r[a]=e[a]);return r}var ke=function(){return""},Ct=V.createContext({enqueueSnackbar:ke,closeSnackbar:ke}),L={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},Q="unmounted",I="exited",_="entering",B="entered",Ce="exiting",ye=function(e){kt(n,e);function n(o){var a;a=e.call(this,o)||this;var t=o.appear,i;return a.appearStatus=null,o.in?t?(i=I,a.appearStatus=_):i=B:o.unmountOnExit||o.mountOnEnter?i=Q:i=I,a.state={status:i},a.nextCallback=null,a}n.getDerivedStateFromProps=function(a,t){var i=a.in;return i&&t.status===Q?{status:I}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(a){var t=null;if(a!==this.props){var i=this.state.status;this.props.in?i!==_&&i!==B&&(t=_):(i===_||i===B)&&(t=Ce)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var a=this.props.timeout,t=a,i=a;return a!=null&&typeof a!="number"&&typeof a!="string"&&(i=a.exit,t=a.enter),{exit:i,enter:t}},r.updateStatus=function(a,t){a===void 0&&(a=!1),t!==null?(this.cancelNextCallback(),t===_?this.performEnter(a):this.performExit()):this.props.unmountOnExit&&this.state.status===I&&this.setState({status:Q})},r.performEnter=function(a){var t=this,i=this.props.enter,s=a,c=this.getTimeouts();if(!a&&!i){this.safeSetState({status:B},function(){t.props.onEntered&&t.props.onEntered(t.node,s)});return}this.props.onEnter&&this.props.onEnter(this.node,s),this.safeSetState({status:_},function(){t.props.onEntering&&t.props.onEntering(t.node,s),t.onTransitionEnd(c.enter,function(){t.safeSetState({status:B},function(){t.props.onEntered&&t.props.onEntered(t.node,s)})})})},r.performExit=function(){var a=this,t=this.props.exit,i=this.getTimeouts();if(!t){this.safeSetState({status:I},function(){a.props.onExited&&a.props.onExited(a.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:Ce},function(){a.props.onExiting&&a.props.onExiting(a.node),a.onTransitionEnd(i.exit,function(){a.safeSetState({status:I},function(){a.props.onExited&&a.props.onExited(a.node)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(a,t){t=this.setNextCallback(t),this.setState(a,t)},r.setNextCallback=function(a){var t=this,i=!0;return this.nextCallback=function(){i&&(i=!1,t.nextCallback=null,a())},this.nextCallback.cancel=function(){i=!1},this.nextCallback},r.onTransitionEnd=function(a,t){this.setNextCallback(t);var i=a==null&&!this.props.addEndListener;if(!this.node||i){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),a!=null&&setTimeout(this.nextCallback,a)},r.render=function(){var a=this.state.status;if(a===Q)return null;var t=this.props,i=t.children,s=xe(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return i(a,s)},Et(n,[{key:"node",get:function(){var a,t=(a=this.props.nodeRef)===null||a===void 0?void 0:a.current;if(!t)throw new Error("notistack - Custom snackbar is not refForwarding");return t}}]),n}(V.Component);function z(){}ye.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:z,onEntering:z,onEntered:z,onExit:z,onExiting:z,onExited:z};function Se(e,n){typeof e=="function"?e(n):e&&(e.current=n)}function ge(e,n){return u.useMemo(function(){return e==null&&n==null?null:function(r){Se(e,r),Se(n,r)}},[e,n])}function ae(e){var n=e.timeout,r=e.style,o=r===void 0?{}:r,a=e.mode;return{duration:typeof n=="object"?n[a]||0:n,easing:o.transitionTimingFunction,delay:o.transitionDelay}}var be={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Oe=function(n){n.scrollTop=n.scrollTop},je=function(n){return Math.round(n)+"ms"};function A(e,n){e===void 0&&(e=["all"]);var r=n||{},o=r.duration,a=o===void 0?300:o,t=r.easing,i=t===void 0?be.easeInOut:t,s=r.delay,c=s===void 0?0:s,h=Array.isArray(e)?e:[e];return h.map(function(p){var m=typeof a=="string"?a:je(a),f=typeof c=="string"?c:je(c);return p+" "+m+" "+i+" "+f}).join(",")}function St(e){return e&&e.ownerDocument||document}function Ge(e){var n=St(e);return n.defaultView||window}function jt(e,n){n===void 0&&(n=166);var r;function o(){for(var a=this,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];var c=function(){e.apply(a,i)};clearTimeout(r),r=setTimeout(c,n)}return o.clear=function(){clearTimeout(r)},o}function Pt(e,n){var r=n.getBoundingClientRect(),o=Ge(n),a;if(n.fakeTransform)a=n.fakeTransform;else{var t=o.getComputedStyle(n);a=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("transform")}var i=0,s=0;if(a&&a!=="none"&&typeof a=="string"){var c=a.split("(")[1].split(")")[0].split(",");i=parseInt(c[4],10),s=parseInt(c[5],10)}switch(e){case"left":return"translateX("+(o.innerWidth+i-r.left)+"px)";case"right":return"translateX(-"+(r.left+r.width-i)+"px)";case"up":return"translateY("+(o.innerHeight+s-r.top)+"px)";default:return"translateY(-"+(r.top+r.height-s)+"px)"}}function ee(e,n){if(n){var r=Pt(e,n);r&&(n.style.webkitTransform=r,n.style.transform=r)}}var Rt=u.forwardRef(function(e,n){var r=e.children,o=e.direction,a=o===void 0?"down":o,t=e.in,i=e.style,s=e.timeout,c=s===void 0?0:s,h=e.onEnter,p=e.onEntered,m=e.onExit,f=e.onExited,j=xe(e,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),g=u.useRef(null),d=ge(r.ref,g),v=ge(d,n),x=function(b,M){ee(a,b),Oe(b),h&&h(b,M)},y=function(b){var M=(i==null?void 0:i.transitionTimingFunction)||be.easeOut,R=ae({timeout:c,mode:"enter",style:W({},i,{transitionTimingFunction:M})});b.style.webkitTransition=A("-webkit-transform",R),b.style.transition=A("transform",R),b.style.webkitTransform="none",b.style.transform="none"},k=function(b){var M=(i==null?void 0:i.transitionTimingFunction)||be.sharp,R=ae({timeout:c,mode:"exit",style:W({},i,{transitionTimingFunction:M})});b.style.webkitTransition=A("-webkit-transform",R),b.style.transition=A("transform",R),ee(a,b),m&&m(b)},C=function(b){b.style.webkitTransition="",b.style.transition="",f&&f(b)},P=u.useCallback(function(){g.current&&ee(a,g.current)},[a]);return u.useEffect(function(){if(!(t||a==="down"||a==="right")){var w=jt(function(){g.current&&ee(a,g.current)}),b=Ge(g.current);return b.addEventListener("resize",w),function(){w.clear(),b.removeEventListener("resize",w)}}},[a,t]),u.useEffect(function(){t||P()},[t,P]),u.createElement(ye,Object.assign({appear:!0,nodeRef:g,onEnter:x,onEntered:p,onEntering:y,onExit:k,onExited:C,in:t,timeout:c},j),function(w,b){return u.cloneElement(r,W({ref:v,style:W({visibility:w==="exited"&&!t?"hidden":void 0},i,{},r.props.style)},b))})});Rt.displayName="Slide";function oe(e){return Object.entries(e).reduce(function(n,r){var o,a=r[0],t=r[1];return W({},n,(o={},o[a]=ve(t),o))},{})}var K={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(n){return"notistack-MuiContent-"+n}},Pe=oe({root:{height:0},entered:{height:"auto"}}),ce="0px",ue=175,Tt=u.forwardRef(function(e,n){var r=e.children,o=e.in,a=e.onExited,t=u.useRef(null),i=u.useRef(null),s=ge(n,i),c=function(){return t.current?t.current.clientHeight:0},h=function(d){d.style.height=ce},p=function(d){var v=c(),x=ae({timeout:ue,mode:"enter"}),y=x.duration,k=x.easing;d.style.transitionDuration=typeof y=="string"?y:y+"ms",d.style.height=v+"px",d.style.transitionTimingFunction=k||""},m=function(d){d.style.height="auto"},f=function(d){d.style.height=c()+"px"},j=function(d){Oe(d);var v=ae({timeout:ue,mode:"exit"}),x=v.duration,y=v.easing;d.style.transitionDuration=typeof x=="string"?x:x+"ms",d.style.height=ce,d.style.transitionTimingFunction=y||""};return u.createElement(ye,{in:o,unmountOnExit:!0,onEnter:h,onEntered:m,onEntering:p,onExit:f,onExited:a,onExiting:j,nodeRef:i,timeout:ue},function(g,d){return u.createElement("div",Object.assign({ref:s,className:re(Pe.root,g==="entered"&&Pe.entered),style:W({pointerEvents:"all",overflow:"hidden",minHeight:ce,transition:A("height")},g==="entered"&&{overflow:"visible"},{},g==="exited"&&!o&&{visibility:"hidden"})},d),u.createElement("div",{ref:t,className:K.CollapseWrapper,style:{display:"flex",width:"100%"}},r))})});Tt.displayName="Collapse";var Ft=typeof window<"u"?u.useLayoutEffect:u.useEffect;function Re(e){var n=u.useRef(e);return Ft(function(){n.current=e}),u.useCallback(function(){return n.current.apply(void 0,arguments)},[])}var Nt=u.forwardRef(function(e,n){var r=e.children,o=e.className,a=e.autoHideDuration,t=e.disableWindowBlurListener,i=t===void 0?!1:t,s=e.onClose,c=e.id,h=e.open,p=e.SnackbarProps,m=p===void 0?{}:p,f=u.useRef(),j=Re(function(){s&&s.apply(void 0,arguments)}),g=Re(function(k){!s||k==null||(f.current&&clearTimeout(f.current),f.current=setTimeout(function(){j(null,"timeout",c)},k))});u.useEffect(function(){return h&&g(a),function(){f.current&&clearTimeout(f.current)}},[h,a,g]);var d=function(){f.current&&clearTimeout(f.current)},v=u.useCallback(function(){a!=null&&g(a*.5)},[a,g]),x=function(C){m.onMouseEnter&&m.onMouseEnter(C),d()},y=function(C){m.onMouseLeave&&m.onMouseLeave(C),v()};return u.useEffect(function(){if(!i&&h)return window.addEventListener("focus",v),window.addEventListener("blur",d),function(){window.removeEventListener("focus",v),window.removeEventListener("blur",d)}},[i,v,h]),u.createElement("div",Object.assign({ref:n},m,{className:re(K.Snackbar,o),onMouseEnter:x,onMouseLeave:y}),r)});Nt.displayName="Snackbar";var de,$t=oe({root:(de={display:"flex",flexWrap:"wrap",flexGrow:1},de[L.upSm]={flexGrow:"initial",minWidth:"288px"},de)}),Ie=u.forwardRef(function(e,n){var r=e.className,o=xe(e,["className"]);return V.createElement("div",Object.assign({ref:n,className:re($t.root,r)},o))});Ie.displayName="SnackbarContent";var H=oe({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),Te="notistack-snackbar",Wt=u.forwardRef(function(e,n){var r=e.id,o=e.message,a=e.action,t=e.iconVariant,i=e.variant,s=e.hideIconVariant,c=e.style,h=e.className,p=t[i],m=a;return typeof m=="function"&&(m=m(r)),V.createElement(Ie,{ref:n,role:"alert","aria-describedby":Te,style:c,className:re(K.MuiContent,K.MuiContentVariant(i),H.root,H[i],h,!s&&p&&H.lessPadding)},V.createElement("div",{id:Te,className:H.message},s?null:p,o),m&&V.createElement("div",{className:H.action},m))});Wt.displayName="MaterialDesignContent";var U,pe,te,ne,fe,N={view:{default:20},snackbar:{default:6,dense:2}},Fe="."+K.CollapseWrapper,me=16;U={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:A(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},U[Fe]={padding:N.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},U.maxWidth="calc(100% - "+N.view.default*2+"px)",U[L.downXs]={width:"100%",maxWidth:"calc(100% - "+me*2+"px)"},pe={},pe[Fe]={padding:N.snackbar.dense+"px 0px"},N.view.default-N.snackbar.default+"",N.view.default-N.snackbar.default+"",te={left:N.view.default+"px"},te[L.upSm]={alignItems:"flex-start"},te[L.downXs]={left:me+"px"},ne={right:N.view.default+"px"},ne[L.upSm]={alignItems:"flex-end"},ne[L.downXs]={right:me+"px"},fe={left:"50%",transform:"translateX(-50%)"},fe[L.upSm]={alignItems:"center"};var Dt=function(){return u.useContext(Ct)};const Mt=()=>{const{enqueueSnackbar:e}=Dt(),[n,r]=u.useState(!1),[o,a]=u.useState(new Date().getFullYear()),[t,i]=u.useState({totalRenewable:"",geothermal:"",hydro:"",biomass:"",solar:"",wind:"",nonRenewable:"",totalPower:"",population:"",gdp:""}),s=u.useCallback(f=>{a(f)},[]),c=u.useCallback((f,j)=>{i(g=>({...g,[j]:f.target.value}))},[]),h=u.useMemo(()=>{const f={};return o||(f.year="Year is required"),["solar","wind","hydro","geothermal","biomass","nonRenewable","population","gdp"].forEach(g=>{t[g]||(f[g]=`${g} value is required`)}),{isValid:Object.keys(f).length===0,errors:f}},[o,t]),p=u.useCallback(async()=>{if(!h.isValid){e("Please fill all required fields",{variant:"warning"});return}const f=t.totalRenewable||(parseFloat(t.solar||0)+parseFloat(t.wind||0)+parseFloat(t.hydro||0)+parseFloat(t.geothermal||0)+parseFloat(t.biomass||0)).toString(),j=t.totalPower||(parseFloat(f)+parseFloat(t.nonRenewable||0)).toString(),g={Year:o,"Total Renewable Energy (GWh)":parseFloat(f),"Geothermal (GWh)":parseFloat(t.geothermal),"Hydro (GWh)":parseFloat(t.hydro),"Biomass (GWh)":parseFloat(t.biomass),"Solar (GWh)":parseFloat(t.solar),"Wind (GWh)":parseFloat(t.wind),"Non-Renewable Energy (GWh)":parseFloat(t.nonRenewable),"Total Power Generation (GWh)":parseFloat(j),Population:parseFloat(t.population),"Gross Domestic Product (GDP)":parseFloat(t.gdp),isPredicted:o>new Date().getFullYear(),dateAdded:new Date().toISOString()};r(!0);try{await Ue.post("/api/create/",g),e("Energy data added successfully",{variant:"success"}),i({totalRenewable:"",geothermal:"",hydro:"",biomass:"",solar:"",wind:"",nonRenewable:"",totalPower:"",population:"",gdp:""})}catch(d){console.error("Error saving data:",d),e("Failed to add energy data",{variant:"error"})}finally{r(!1)}},[o,t,e,h]),m=u.useCallback(()=>{i({solar:"1567.52",wind:"1346.78",hydro:"2105.63",geothermal:"945.31",biomass:"872.44",nonRenewable:"3200.75",population:"42.3",gdp:"1850",totalRenewable:"6837.68",totalPower:"10038.43"})},[]);return{loading:n,selectedYear:o,generationValue:t,handleYearChange:s,handleGenerationChange:c,handleSubmit:p,loadSampleData:m,formValidation:h}},Jt=()=>{const e=Xe(),{loading:n,handleSubmit:r,handleYearChange:o,handleGenerationChange:a}=Mt(),[t,i]=u.useState({year:new Date().getFullYear(),solar:"",wind:"",hydro:"",geothermal:"",biomass:"",totalRenewable:"",nonRenewableEnergy:"",totalPower:"",population:"",gdp:"",isPredicted:!1}),[s,c]=u.useState({}),h=u.useCallback(d=>{i(x=>({...x,year:d}));const v=new Date().getFullYear();d>v&&!t.isPredicted&&i(x=>({...x,isPredicted:!0})),o(d)},[t.isPredicted,o]);u.useEffect(()=>{const d=parseFloat(t.solar)||0,v=parseFloat(t.wind)||0,x=parseFloat(t.hydro)||0,y=parseFloat(t.geothermal)||0,k=parseFloat(t.biomass)||0,C=parseFloat(t.nonRenewableEnergy)||0,P=d+v+x+y+k,w=P+C;i(b=>({...b,totalRenewable:P>0?P.toFixed(2):"",totalPower:w>0?w.toFixed(2):""}))},[t.solar,t.wind,t.hydro,t.geothermal,t.biomass,t.nonRenewableEnergy]);const p=u.useCallback(d=>{const{name:v,value:x,type:y,checked:k}=d.target,C=y==="checkbox"?k:x;i(b=>({...b,[v]:C})),s[v]&&c(b=>({...b,[v]:null}));const w={nonRenewableEnergy:"nonRenewable"}[v]||v;["solar","wind","hydro","geothermal","biomass","nonRenewableEnergy","population","gdp","totalRenewable","totalPower"].includes(v)&&a({target:{value:C}},w)},[s,a]),m=u.useCallback(()=>{i(d=>({...d,solar:"1567.52",wind:"1346.78",hydro:"2105.63",geothermal:"945.31",biomass:"872.44",nonRenewableEnergy:"3200.75",population:"42.3",gdp:"1850"})),a({target:{value:"1567.52"}},"solar"),a({target:{value:"1346.78"}},"wind"),a({target:{value:"2105.63"}},"hydro"),a({target:{value:"945.31"}},"geothermal"),a({target:{value:"872.44"}},"biomass"),a({target:{value:"3200.75"}},"nonRenewable"),a({target:{value:"42.3"}},"population"),a({target:{value:"1850"}},"gdp")},[a]),f=u.useCallback(()=>{const d={};return t.year||(d.year="Year is required"),t.solar||t.wind||t.hydro||t.geothermal||t.biomass||(d.general="At least one energy value is required"),["solar","wind","hydro","geothermal","biomass","nonRenewableEnergy","population","gdp"].forEach(y=>{t[y]&&isNaN(parseFloat(t[y]))&&(d[y]="Must be a valid number")}),c(d),Object.keys(d).length===0},[t]),j=u.useCallback(async d=>{d.preventDefault(),f()&&(await r(),e("/dashboard"))},[f,e,r]),g=u.useCallback(()=>{e("/dashboard")},[e]);return l.jsxs(et,{maxWidth:"lg",className:"py-6",children:[l.jsxs(se,{className:"flex items-center justify-between mb-6",children:[l.jsx($,{variant:"h4",component:"h1",className:"font-bold",children:"Add Energy Record"}),l.jsx(le,{variant:"outlined",onClick:m,size:"small",children:"Load Sample Data"})]}),l.jsx(Ke,{elevation:0,className:"border p-6 mb-6",children:l.jsxs("form",{onSubmit:j,children:[l.jsxs(E,{container:!0,spacing:4,children:[l.jsxs(E,{item:!0,xs:12,md:6,children:[l.jsx($,{variant:"subtitle1",className:"mb-3 font-medium",children:"Year"}),l.jsxs(se,{className:"mb-4",children:[l.jsx(Qe,{initialYear:t.year,onYearChange:h}),s.year&&l.jsx($,{variant:"caption",color:"error",className:"mt-1 block",children:s.year})]}),l.jsx(st,{control:l.jsx(mt,{name:"isPredicted",checked:t.isPredicted,onChange:p,color:"primary"}),label:"Projected data"})]}),s.general&&l.jsx(E,{item:!0,xs:12,children:l.jsx($,{variant:"body2",color:"error",children:s.general})}),l.jsxs(E,{item:!0,xs:12,children:[l.jsx($,{variant:"subtitle1",className:"mb-3 font-medium",children:"Energy Values"}),l.jsxs(E,{container:!0,spacing:3,children:[l.jsx(E,{item:!0,xs:12,md:6,lg:4,children:l.jsx(T,{name:"solar",label:"Solar Energy (GWh)",value:t.solar,onChange:p,placeholder:"Enter solar generation",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.solar,helperText:s.solar})}),l.jsx(E,{item:!0,xs:12,md:6,lg:4,children:l.jsx(T,{name:"wind",label:"Wind Energy (GWh)",value:t.wind,onChange:p,placeholder:"Enter wind generation",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.wind,helperText:s.wind})}),l.jsx(E,{item:!0,xs:12,md:6,lg:4,children:l.jsx(T,{name:"hydro",label:"Hydroelectric Energy (GWh)",value:t.hydro,onChange:p,placeholder:"Enter hydro generation",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.hydro,helperText:s.hydro})}),l.jsx(E,{item:!0,xs:12,md:6,lg:4,children:l.jsx(T,{name:"geothermal",label:"Geothermal Energy (GWh)",value:t.geothermal,onChange:p,placeholder:"Enter geothermal generation",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.geothermal,helperText:s.geothermal})}),l.jsx(E,{item:!0,xs:12,md:6,lg:4,children:l.jsx(T,{name:"biomass",label:"Biomass Energy (GWh)",value:t.biomass,onChange:p,placeholder:"Enter biomass generation",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.biomass,helperText:s.biomass})}),l.jsx(E,{item:!0,xs:12,md:6,lg:4,children:l.jsx(T,{name:"totalRenewable",label:"Total Renewable Energy (GWh)",value:t.totalRenewable,InputProps:{readOnly:!0},placeholder:"Auto-calculated",fullWidth:!0,variant:"outlined",helperText:"Automatically calculated"})}),l.jsx(E,{item:!0,xs:12,md:6,lg:4,children:l.jsx(T,{name:"nonRenewableEnergy",label:"Non-Renewable Energy (GWh)",value:t.nonRenewableEnergy,onChange:p,placeholder:"Enter non-renewable energy",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.nonRenewableEnergy,helperText:s.nonRenewableEnergy})}),l.jsx(E,{item:!0,xs:12,md:6,lg:4,children:l.jsx(T,{name:"totalPower",label:"Total Power Generation (GWh)",value:t.totalPower,InputProps:{readOnly:!0},placeholder:"Auto-calculated",fullWidth:!0,variant:"outlined",helperText:"Automatically calculated"})})]})]}),l.jsxs(E,{item:!0,xs:12,children:[l.jsx(Ze,{className:"my-4"}),l.jsx($,{variant:"subtitle1",className:"mb-3 font-medium",children:"Additional Data"}),l.jsxs(E,{container:!0,spacing:3,children:[l.jsx(E,{item:!0,xs:12,md:6,children:l.jsx(T,{name:"population",label:"Population (in millions)",value:t.population,onChange:p,placeholder:"Enter population in millions",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.population,helperText:s.population})}),l.jsx(E,{item:!0,xs:12,md:6,children:l.jsx(T,{name:"gdp",label:"Gross Domestic Product (GDP)",value:t.gdp,onChange:p,placeholder:"Enter GDP value",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.gdp,helperText:s.gdp})})]})]}),s.submission&&l.jsx(E,{item:!0,xs:12,children:l.jsx($,{variant:"body2",color:"error",children:s.submission})})]}),l.jsxs(se,{className:"mt-8 flex justify-end gap-3",children:[l.jsx(le,{variant:"outlined",onClick:g,startIcon:l.jsx(nt,{size:18}),children:"Cancel"}),l.jsx(le,{type:"submit",variant:"contained",color:"primary",startIcon:l.jsx(Je,{size:18}),disabled:n,children:n?"Saving...":"Save Record"})]})]})})]})};export{Jt as default};
