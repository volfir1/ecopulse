import{as as Ne,ap as $e,a6 as B,aJ as M,aN as Y,r as u,ar as De,aO as Ae,aP as Ve,aS as Ye,T as D,j as c,an as he,ao as We,a3 as we,aQ as Be,bu as qe,bv as He,R as V,b as Ue,B as se,a as le,P as Xe,D as Je,by as Ke}from"./index-BN0NLy4X.js";import{S as Qe}from"./SingleYearPicker-vaKepwjh.js";import{a as Ze}from"./api-DsXL_j3W.js";import{C as et}from"./Container-C2Kj_-ax.js";import{G as k}from"./Grid-CgXu5irq.js";import{S as tt}from"./SwitchBase-Rw-G-Ulq.js";import{T as F}from"./TextField-Bsv3TW2t.js";import{C as nt}from"./chevron-left-ZPlCKlHA.js";import"./AdapterDayjs-BpcbILur.js";import"./index-B8U9fKH1.js";import"./useThemeProps-CQcjcwiv.js";import"./index-CHCKNM3c.js";import"./Select-BvIDhjGm.js";import"./Chip-BQdj-Ugh.js";import"./refresh-ccw-DgaJWPi_.js";import"./axios-CmsuhreG.js";import"./styled-3tO3uOdC.js";function at(e){return $e("MuiFormControlLabel",e)}const X=Ne("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),rt=e=>{const{classes:t,disabled:o,labelPlacement:i,error:r,required:n}=e,a={root:["root",o&&"disabled",`labelPlacement${M(i)}`,r&&"error",n&&"required"],label:["label",o&&"disabled"],asterisk:["asterisk",r&&"error"]};return We(a,at,t)},ot=B("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${X.label}`]:t.label},t.root,t[`labelPlacement${M(o.labelPlacement)}`]]}})(Y(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${X.disabled}`]:{cursor:"default"},[`& .${X.label}`]:{[`&.${X.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:t})=>t==="start"||t==="top"||t==="bottom",style:{marginLeft:16}}]}))),it=B("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(Y(({theme:e})=>({[`&.${X.error}`]:{color:(e.vars||e).palette.error.main}}))),st=u.forwardRef(function(t,o){const i=De({props:t,name:"MuiFormControlLabel"}),{checked:r,className:n,componentsProps:a={},control:l,disabled:s,disableTypography:f,inputRef:m,label:d,labelPlacement:p="end",name:S,onChange:h,required:v,slots:g={},slotProps:x={},value:y,...w}=i,P=Ae(),R=s??l.props.disabled??(P==null?void 0:P.disabled),E=v??l.props.required,b={disabled:R,required:E};["checked","name","onChange","value","inputRef"].forEach(Q=>{typeof l.props[Q]>"u"&&typeof i[Q]<"u"&&(b[Q]=i[Q])});const j=Ve({props:i,muiFormControl:P,states:["error"]}),T={...i,disabled:R,labelPlacement:p,required:E,error:j.error},ie=rt(T),_e={slots:g,slotProps:{...a,...x}},[ze,K]=Ye("typography",{elementType:D,externalForwardedProps:_e,ownerState:T});let G=d;return G!=null&&G.type!==D&&!f&&(G=c.jsx(ze,{component:"span",...K,className:he(ie.label,K==null?void 0:K.className),children:G})),c.jsxs(ot,{className:he(ie.root,n),ownerState:T,ref:o,...w,children:[u.cloneElement(l,b),E?c.jsxs("div",{children:[G,c.jsxs(it,{ownerState:T,"aria-hidden":!0,className:ie.asterisk,children:["â€‰","*"]})]}):G]})});function lt(e){return $e("MuiSwitch",e)}const C=Ne("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),ct=e=>{const{classes:t,edge:o,size:i,color:r,checked:n,disabled:a}=e,l={root:["root",o&&`edge${M(o)}`,`size${M(i)}`],switchBase:["switchBase",`color${M(r)}`,n&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},s=We(l,lt,t);return{...t,...s}},ut=B("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.edge&&t[`edge${M(o.edge)}`],t[`size${M(o.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${C.thumb}`]:{width:16,height:16},[`& .${C.switchBase}`]:{padding:4,[`&.${C.checked}`]:{transform:"translateX(16px)"}}}}]}),dt=B(tt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.switchBase,{[`& .${C.input}`]:t.input},o.color!=="default"&&t[`color${M(o.color)}`]]}})(Y(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${C.checked}`]:{transform:"translateX(20px)"},[`&.${C.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${C.checked} + .${C.track}`]:{opacity:.5},[`&.${C.disabled} + .${C.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${C.input}`]:{left:"-100%",width:"300%"}})),Y(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:we(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(Be(["light"])).map(([t])=>({props:{color:t},style:{[`&.${C.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:we(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${C.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?qe(e.palette[t].main,.62):He(e.palette[t].main,.55)}`}},[`&.${C.checked} + .${C.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]}))),pt=B("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(Y(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),ft=B("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(Y(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),mt=u.forwardRef(function(t,o){const i=De({props:t,name:"MuiSwitch"}),{className:r,color:n="primary",edge:a=!1,size:l="medium",sx:s,...f}=i,m={...i,color:n,edge:a,size:l},d=ct(m),p=c.jsx(ft,{className:d.thumb,ownerState:m});return c.jsxs(ut,{className:he(d.root,r),sx:s,ownerState:m,children:[c.jsx(dt,{type:"checkbox",icon:p,checkedIcon:p,ref:o,ownerState:m,...f,classes:{...d,root:d.switchBase}}),c.jsx(pt,{className:d.track,ownerState:m})]})});function Me(e){var t,o,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(o=Me(e[t]))&&(i&&(i+=" "),i+=o);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function re(){for(var e,t,o=0,i="";o<arguments.length;)(e=arguments[o++])&&(t=Me(e))&&(i&&(i+=" "),i+=t);return i}let ht={data:""},gt=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||ht,bt=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,vt=/\/\*[^]*?\*\/|  +/g,Ee=/\n+/g,L=(e,t)=>{let o="",i="",r="";for(let n in e){let a=e[n];n[0]=="@"?n[1]=="i"?o=n+" "+a+";":i+=n[1]=="f"?L(a,n):n+"{"+L(a,n[1]=="k"?"":t)+"}":typeof a=="object"?i+=L(a,t?t.replace(/([^,])+/g,l=>n.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,s=>/&/.test(s)?s.replace(/&/g,l):l?l+" "+s:s)):n):a!=null&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=L.p?L.p(n,a):n+":"+a+";")}return o+(t&&r?t+"{"+r+"}":r)+i},N={},Oe=e=>{if(typeof e=="object"){let t="";for(let o in e)t+=o+Oe(e[o]);return t}return e},xt=(e,t,o,i,r)=>{let n=Oe(e),a=N[n]||(N[n]=(s=>{let f=0,m=11;for(;f<s.length;)m=101*m+s.charCodeAt(f++)>>>0;return"go"+m})(n));if(!N[a]){let s=n!==e?e:(f=>{let m,d,p=[{}];for(;m=bt.exec(f.replace(vt,""));)m[4]?p.shift():m[3]?(d=m[3].replace(Ee," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][m[1]]=m[2].replace(Ee," ").trim();return p[0]})(e);N[a]=L(r?{["@keyframes "+a]:s}:s,o?"":"."+a)}let l=o&&N.g?N.g:null;return o&&(N.g=N[a]),((s,f,m,d)=>{d?f.data=f.data.replace(d,s):f.data.indexOf(s)===-1&&(f.data=m?s+f.data:f.data+s)})(N[a],t,i,l),a},yt=(e,t,o)=>e.reduce((i,r,n)=>{let a=t[n];if(a&&a.call){let l=a(o),s=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=s?"."+s:l&&typeof l=="object"?l.props?"":L(l,""):l===!1?"":l}return i+r+(a??"")},"");function ve(e){let t=this||{},o=e.call?e(t.p):e;return xt(o.unshift?o.raw?yt(o,[].slice.call(arguments,1),t.p):o.reduce((i,r)=>Object.assign(i,r&&r.call?r(t.p):r),{}):o,gt(t.target),t.g,t.o,t.k)}ve.bind({g:1});ve.bind({k:1});function wt(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Et(e,t,o){return wt(e.prototype,t),e}function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},W.apply(this,arguments)}function kt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function xe(e,t){if(e==null)return{};var o={},i=Object.keys(e),r,n;for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&(o[r]=e[r]);return o}var ke=function(){return""},Ct=V.createContext({enqueueSnackbar:ke,closeSnackbar:ke}),O={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},Z="unmounted",I="exited",_="entering",q="entered",Ce="exiting",ye=function(e){kt(t,e);function t(i){var r;r=e.call(this,i)||this;var n=i.appear,a;return r.appearStatus=null,i.in?n?(a=I,r.appearStatus=_):a=q:i.unmountOnExit||i.mountOnEnter?a=Z:a=I,r.state={status:a},r.nextCallback=null,r}t.getDerivedStateFromProps=function(r,n){var a=r.in;return a&&n.status===Z?{status:I}:null};var o=t.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(r){var n=null;if(r!==this.props){var a=this.state.status;this.props.in?a!==_&&a!==q&&(n=_):(a===_||a===q)&&(n=Ce)}this.updateStatus(!1,n)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var r=this.props.timeout,n=r,a=r;return r!=null&&typeof r!="number"&&typeof r!="string"&&(a=r.exit,n=r.enter),{exit:a,enter:n}},o.updateStatus=function(r,n){r===void 0&&(r=!1),n!==null?(this.cancelNextCallback(),n===_?this.performEnter(r):this.performExit()):this.props.unmountOnExit&&this.state.status===I&&this.setState({status:Z})},o.performEnter=function(r){var n=this,a=this.props.enter,l=r,s=this.getTimeouts();if(!r&&!a){this.safeSetState({status:q},function(){n.props.onEntered&&n.props.onEntered(n.node,l)});return}this.props.onEnter&&this.props.onEnter(this.node,l),this.safeSetState({status:_},function(){n.props.onEntering&&n.props.onEntering(n.node,l),n.onTransitionEnd(s.enter,function(){n.safeSetState({status:q},function(){n.props.onEntered&&n.props.onEntered(n.node,l)})})})},o.performExit=function(){var r=this,n=this.props.exit,a=this.getTimeouts();if(!n){this.safeSetState({status:I},function(){r.props.onExited&&r.props.onExited(r.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:Ce},function(){r.props.onExiting&&r.props.onExiting(r.node),r.onTransitionEnd(a.exit,function(){r.safeSetState({status:I},function(){r.props.onExited&&r.props.onExited(r.node)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(r,n){n=this.setNextCallback(n),this.setState(r,n)},o.setNextCallback=function(r){var n=this,a=!0;return this.nextCallback=function(){a&&(a=!1,n.nextCallback=null,r())},this.nextCallback.cancel=function(){a=!1},this.nextCallback},o.onTransitionEnd=function(r,n){this.setNextCallback(n);var a=r==null&&!this.props.addEndListener;if(!this.node||a){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),r!=null&&setTimeout(this.nextCallback,r)},o.render=function(){var r=this.state.status;if(r===Z)return null;var n=this.props,a=n.children,l=xe(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return a(r,l)},Et(t,[{key:"node",get:function(){var r,n=(r=this.props.nodeRef)===null||r===void 0?void 0:r.current;if(!n)throw new Error("notistack - Custom snackbar is not refForwarding");return n}}]),t}(V.Component);function z(){}ye.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:z,onEntering:z,onEntered:z,onExit:z,onExiting:z,onExited:z};function Se(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function ge(e,t){return u.useMemo(function(){return e==null&&t==null?null:function(o){Se(e,o),Se(t,o)}},[e,t])}function ae(e){var t=e.timeout,o=e.style,i=o===void 0?{}:o,r=e.mode;return{duration:typeof t=="object"?t[r]||0:t,easing:i.transitionTimingFunction,delay:i.transitionDelay}}var be={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Le=function(t){t.scrollTop=t.scrollTop},Pe=function(t){return Math.round(t)+"ms"};function A(e,t){e===void 0&&(e=["all"]);var o=t||{},i=o.duration,r=i===void 0?300:i,n=o.easing,a=n===void 0?be.easeInOut:n,l=o.delay,s=l===void 0?0:l,f=Array.isArray(e)?e:[e];return f.map(function(m){var d=typeof r=="string"?r:Pe(r),p=typeof s=="string"?s:Pe(s);return m+" "+d+" "+a+" "+p}).join(",")}function St(e){return e&&e.ownerDocument||document}function Ge(e){var t=St(e);return t.defaultView||window}function Pt(e,t){t===void 0&&(t=166);var o;function i(){for(var r=this,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];var s=function(){e.apply(r,a)};clearTimeout(o),o=setTimeout(s,t)}return i.clear=function(){clearTimeout(o)},i}function jt(e,t){var o=t.getBoundingClientRect(),i=Ge(t),r;if(t.fakeTransform)r=t.fakeTransform;else{var n=i.getComputedStyle(t);r=n.getPropertyValue("-webkit-transform")||n.getPropertyValue("transform")}var a=0,l=0;if(r&&r!=="none"&&typeof r=="string"){var s=r.split("(")[1].split(")")[0].split(",");a=parseInt(s[4],10),l=parseInt(s[5],10)}switch(e){case"left":return"translateX("+(i.innerWidth+a-o.left)+"px)";case"right":return"translateX(-"+(o.left+o.width-a)+"px)";case"up":return"translateY("+(i.innerHeight+l-o.top)+"px)";default:return"translateY(-"+(o.top+o.height-l)+"px)"}}function ee(e,t){if(t){var o=jt(e,t);o&&(t.style.webkitTransform=o,t.style.transform=o)}}var Rt=u.forwardRef(function(e,t){var o=e.children,i=e.direction,r=i===void 0?"down":i,n=e.in,a=e.style,l=e.timeout,s=l===void 0?0:l,f=e.onEnter,m=e.onEntered,d=e.onExit,p=e.onExited,S=xe(e,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),h=u.useRef(null),v=ge(o.ref,h),g=ge(v,t),x=function(b,j){ee(r,b),Le(b),f&&f(b,j)},y=function(b){var j=(a==null?void 0:a.transitionTimingFunction)||be.easeOut,T=ae({timeout:s,mode:"enter",style:W({},a,{transitionTimingFunction:j})});b.style.webkitTransition=A("-webkit-transform",T),b.style.transition=A("transform",T),b.style.webkitTransform="none",b.style.transform="none"},w=function(b){var j=(a==null?void 0:a.transitionTimingFunction)||be.sharp,T=ae({timeout:s,mode:"exit",style:W({},a,{transitionTimingFunction:j})});b.style.webkitTransition=A("-webkit-transform",T),b.style.transition=A("transform",T),ee(r,b),d&&d(b)},P=function(b){b.style.webkitTransition="",b.style.transition="",p&&p(b)},R=u.useCallback(function(){h.current&&ee(r,h.current)},[r]);return u.useEffect(function(){if(!(n||r==="down"||r==="right")){var E=Pt(function(){h.current&&ee(r,h.current)}),b=Ge(h.current);return b.addEventListener("resize",E),function(){E.clear(),b.removeEventListener("resize",E)}}},[r,n]),u.useEffect(function(){n||R()},[n,R]),u.createElement(ye,Object.assign({appear:!0,nodeRef:h,onEnter:x,onEntered:m,onEntering:y,onExit:w,onExited:P,in:n,timeout:s},S),function(E,b){return u.cloneElement(o,W({ref:g,style:W({visibility:E==="exited"&&!n?"hidden":void 0},a,{},o.props.style)},b))})});Rt.displayName="Slide";function oe(e){return Object.entries(e).reduce(function(t,o){var i,r=o[0],n=o[1];return W({},t,(i={},i[r]=ve(n),i))},{})}var J={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(t){return"notistack-MuiContent-"+t}},je=oe({root:{height:0},entered:{height:"auto"}}),ce="0px",ue=175,Tt=u.forwardRef(function(e,t){var o=e.children,i=e.in,r=e.onExited,n=u.useRef(null),a=u.useRef(null),l=ge(t,a),s=function(){return n.current?n.current.clientHeight:0},f=function(v){v.style.height=ce},m=function(v){var g=s(),x=ae({timeout:ue,mode:"enter"}),y=x.duration,w=x.easing;v.style.transitionDuration=typeof y=="string"?y:y+"ms",v.style.height=g+"px",v.style.transitionTimingFunction=w||""},d=function(v){v.style.height="auto"},p=function(v){v.style.height=s()+"px"},S=function(v){Le(v);var g=ae({timeout:ue,mode:"exit"}),x=g.duration,y=g.easing;v.style.transitionDuration=typeof x=="string"?x:x+"ms",v.style.height=ce,v.style.transitionTimingFunction=y||""};return u.createElement(ye,{in:i,unmountOnExit:!0,onEnter:f,onEntered:d,onEntering:m,onExit:p,onExited:r,onExiting:S,nodeRef:a,timeout:ue},function(h,v){return u.createElement("div",Object.assign({ref:l,className:re(je.root,h==="entered"&&je.entered),style:W({pointerEvents:"all",overflow:"hidden",minHeight:ce,transition:A("height")},h==="entered"&&{overflow:"visible"},{},h==="exited"&&!i&&{visibility:"hidden"})},v),u.createElement("div",{ref:n,className:J.CollapseWrapper,style:{display:"flex",width:"100%"}},o))})});Tt.displayName="Collapse";var Ft=typeof window<"u"?u.useLayoutEffect:u.useEffect;function Re(e){var t=u.useRef(e);return Ft(function(){t.current=e}),u.useCallback(function(){return t.current.apply(void 0,arguments)},[])}var Nt=u.forwardRef(function(e,t){var o=e.children,i=e.className,r=e.autoHideDuration,n=e.disableWindowBlurListener,a=n===void 0?!1:n,l=e.onClose,s=e.id,f=e.open,m=e.SnackbarProps,d=m===void 0?{}:m,p=u.useRef(),S=Re(function(){l&&l.apply(void 0,arguments)}),h=Re(function(w){!l||w==null||(p.current&&clearTimeout(p.current),p.current=setTimeout(function(){S(null,"timeout",s)},w))});u.useEffect(function(){return f&&h(r),function(){p.current&&clearTimeout(p.current)}},[f,r,h]);var v=function(){p.current&&clearTimeout(p.current)},g=u.useCallback(function(){r!=null&&h(r*.5)},[r,h]),x=function(P){d.onMouseEnter&&d.onMouseEnter(P),v()},y=function(P){d.onMouseLeave&&d.onMouseLeave(P),g()};return u.useEffect(function(){if(!a&&f)return window.addEventListener("focus",g),window.addEventListener("blur",v),function(){window.removeEventListener("focus",g),window.removeEventListener("blur",v)}},[a,g,f]),u.createElement("div",Object.assign({ref:t},d,{className:re(J.Snackbar,i),onMouseEnter:x,onMouseLeave:y}),o)});Nt.displayName="Snackbar";var de,$t=oe({root:(de={display:"flex",flexWrap:"wrap",flexGrow:1},de[O.upSm]={flexGrow:"initial",minWidth:"288px"},de)}),Ie=u.forwardRef(function(e,t){var o=e.className,i=xe(e,["className"]);return V.createElement("div",Object.assign({ref:t,className:re($t.root,o)},i))});Ie.displayName="SnackbarContent";var H=oe({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),Te="notistack-snackbar",Dt=u.forwardRef(function(e,t){var o=e.id,i=e.message,r=e.action,n=e.iconVariant,a=e.variant,l=e.hideIconVariant,s=e.style,f=e.className,m=n[a],d=r;return typeof d=="function"&&(d=d(o)),V.createElement(Ie,{ref:t,role:"alert","aria-describedby":Te,style:s,className:re(J.MuiContent,J.MuiContentVariant(a),H.root,H[a],f,!l&&m&&H.lessPadding)},V.createElement("div",{id:Te,className:H.message},l?null:m,i),d&&V.createElement("div",{className:H.action},d))});Dt.displayName="MaterialDesignContent";var U,pe,te,ne,fe,$={view:{default:20,dense:4},snackbar:{default:6,dense:2}},Fe="."+J.CollapseWrapper,me=16;U={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:A(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},U[Fe]={padding:$.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},U.maxWidth="calc(100% - "+$.view.default*2+"px)",U[O.downXs]={width:"100%",maxWidth:"calc(100% - "+me*2+"px)"},pe={},pe[Fe]={padding:$.snackbar.dense+"px 0px"},$.view.default-$.snackbar.default+"",$.view.default-$.snackbar.default+"",te={left:$.view.default+"px"},te[O.upSm]={alignItems:"flex-start"},te[O.downXs]={left:me+"px"},ne={right:$.view.default+"px"},ne[O.upSm]={alignItems:"flex-end"},ne[O.downXs]={right:me+"px"},fe={left:"50%",transform:"translateX(-50%)"},fe[O.upSm]={alignItems:"center"};var Wt=function(){return u.useContext(Ct)};const Mt=()=>{const{enqueueSnackbar:e}=Wt(),[t,o]=u.useState(!1),[i,r]=u.useState(new Date().getFullYear()),[n,a]=u.useState({totalRenewable:"",geothermal:"",hydro:"",biomass:"",solar:"",wind:"",nonRenewable:"",totalPower:"",population:"",gdp:""}),l=u.useCallback(p=>{r(p)},[]),s=u.useCallback((p,S)=>{a(h=>({...h,[S]:p.target.value}))},[]),f=u.useMemo(()=>{const p={};return i||(p.year="Year is required"),["solar","wind","hydro","geothermal","biomass","nonRenewable","population","gdp"].forEach(h=>{n[h]||(p[h]=`${h} value is required`)}),{isValid:Object.keys(p).length===0,errors:p}},[i,n]),m=u.useCallback(async()=>{if(!f.isValid){e("Please fill all required fields",{variant:"warning"});return}const p=n.totalRenewable||(parseFloat(n.solar||0)+parseFloat(n.wind||0)+parseFloat(n.hydro||0)+parseFloat(n.geothermal||0)+parseFloat(n.biomass||0)).toString(),S=n.totalPower||(parseFloat(p)+parseFloat(n.nonRenewable||0)).toString(),h={Year:i,"Total Renewable Energy (GWh)":parseFloat(p),"Geothermal (GWh)":parseFloat(n.geothermal),"Hydro (GWh)":parseFloat(n.hydro),"Biomass (GWh)":parseFloat(n.biomass),"Solar (GWh)":parseFloat(n.solar),"Wind (GWh)":parseFloat(n.wind),"Non-Renewable Energy (GWh)":parseFloat(n.nonRenewable),"Total Power Generation (GWh)":parseFloat(S),Population:parseFloat(n.population),"Gross Domestic Product (GDP)":parseFloat(n.gdp),isPredicted:i>new Date().getFullYear(),dateAdded:new Date().toISOString()};o(!0);try{await Ze.post("/api/create/",h),e("Energy data added successfully",{variant:"success"}),a({totalRenewable:"",geothermal:"",hydro:"",biomass:"",solar:"",wind:"",nonRenewable:"",totalPower:"",population:"",gdp:""})}catch(v){console.error("Error saving data:",v),e("Failed to add energy data",{variant:"error"})}finally{o(!1)}},[i,n,e,f]),d=u.useCallback(()=>{a({solar:"1567.52",wind:"1346.78",hydro:"2105.63",geothermal:"945.31",biomass:"872.44",nonRenewable:"3200.75",population:"42.3",gdp:"1850",totalRenewable:"6837.68",totalPower:"10038.43"})},[]);return{loading:t,selectedYear:i,generationValue:n,handleYearChange:l,handleGenerationChange:s,handleSubmit:m,loadSampleData:d,formValidation:f}},Zt=()=>{const e=Ue(),{loading:t,handleSubmit:o,formValidation:i,handleYearChange:r,handleGenerationChange:n}=Mt(),[a,l]=u.useState({year:new Date().getFullYear(),solar:"",wind:"",hydro:"",geothermal:"",biomass:"",totalRenewable:"",nonRenewableEnergy:"",totalPower:"",population:"",gdp:"",isPredicted:!1}),[s,f]=u.useState({}),m=u.useCallback(g=>{l(y=>({...y,year:g}));const x=new Date().getFullYear();g>x&&!a.isPredicted&&l(y=>({...y,isPredicted:!0})),r(g)},[a.isPredicted,r]);u.useEffect(()=>{const g=parseFloat(a.solar)||0,x=parseFloat(a.wind)||0,y=parseFloat(a.hydro)||0,w=parseFloat(a.geothermal)||0,P=parseFloat(a.biomass)||0,R=parseFloat(a.nonRenewableEnergy)||0,E=g+x+y+w+P,b=E+R;l(j=>({...j,totalRenewable:E>0?E.toFixed(2):"",totalPower:b>0?b.toFixed(2):""}))},[a.solar,a.wind,a.hydro,a.geothermal,a.biomass,a.nonRenewableEnergy]);const d=u.useCallback(g=>{const{name:x,value:y,type:w,checked:P}=g.target,R=w==="checkbox"?P:y;l(j=>({...j,[x]:R})),s[x]&&f(j=>({...j,[x]:null}));const b={nonRenewableEnergy:"nonRenewable"}[x]||x;["solar","wind","hydro","geothermal","biomass","nonRenewableEnergy","population","gdp","totalRenewable","totalPower"].includes(x)&&n({target:{value:R}},b)},[s,n]),p=u.useCallback(()=>{l(g=>({...g,solar:"1567.52",wind:"1346.78",hydro:"2105.63",geothermal:"945.31",biomass:"872.44",nonRenewableEnergy:"3200.75",population:"42.3",gdp:"1850"})),n({target:{value:"1567.52"}},"solar"),n({target:{value:"1346.78"}},"wind"),n({target:{value:"2105.63"}},"hydro"),n({target:{value:"945.31"}},"geothermal"),n({target:{value:"872.44"}},"biomass"),n({target:{value:"3200.75"}},"nonRenewable"),n({target:{value:"42.3"}},"population"),n({target:{value:"1850"}},"gdp")},[n]),S=u.useCallback(()=>{const g={};return a.year||(g.year="Year is required"),a.solar||a.wind||a.hydro||a.geothermal||a.biomass||(g.general="At least one energy value is required"),["solar","wind","hydro","geothermal","biomass","nonRenewableEnergy","population","gdp"].forEach(w=>{a[w]&&isNaN(parseFloat(a[w]))&&(g[w]="Must be a valid number")}),f(g),Object.keys(g).length===0},[a]),h=u.useCallback(async g=>{g.preventDefault(),S()&&(await o(),e("/dashboard"))},[S,e,o]),v=u.useCallback(()=>{e("/dashboard")},[e]);return c.jsxs(et,{maxWidth:"lg",className:"py-6",children:[c.jsxs(se,{className:"flex items-center justify-between mb-6",children:[c.jsx(D,{variant:"h4",component:"h1",className:"font-bold",children:"Add Energy Record"}),c.jsx(le,{variant:"outlined",onClick:p,size:"small",children:"Load Sample Data"})]}),c.jsx(Xe,{elevation:0,className:"border p-6 mb-6",children:c.jsxs("form",{onSubmit:h,children:[c.jsxs(k,{container:!0,spacing:4,children:[c.jsxs(k,{item:!0,xs:12,md:6,children:[c.jsx(D,{variant:"subtitle1",className:"mb-3 font-medium",children:"Year"}),c.jsxs(se,{className:"mb-4",children:[c.jsx(Qe,{initialYear:a.year,onYearChange:m}),s.year&&c.jsx(D,{variant:"caption",color:"error",className:"mt-1 block",children:s.year})]}),c.jsx(st,{control:c.jsx(mt,{name:"isPredicted",checked:a.isPredicted,onChange:d,color:"primary"}),label:"Projected data"})]}),s.general&&c.jsx(k,{item:!0,xs:12,children:c.jsx(D,{variant:"body2",color:"error",children:s.general})}),c.jsxs(k,{item:!0,xs:12,children:[c.jsx(D,{variant:"subtitle1",className:"mb-3 font-medium",children:"Energy Values"}),c.jsxs(k,{container:!0,spacing:3,children:[c.jsx(k,{item:!0,xs:12,md:6,lg:4,children:c.jsx(F,{name:"solar",label:"Solar Energy (GWh)",value:a.solar,onChange:d,placeholder:"Enter solar generation",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.solar,helperText:s.solar})}),c.jsx(k,{item:!0,xs:12,md:6,lg:4,children:c.jsx(F,{name:"wind",label:"Wind Energy (GWh)",value:a.wind,onChange:d,placeholder:"Enter wind generation",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.wind,helperText:s.wind})}),c.jsx(k,{item:!0,xs:12,md:6,lg:4,children:c.jsx(F,{name:"hydro",label:"Hydroelectric Energy (GWh)",value:a.hydro,onChange:d,placeholder:"Enter hydro generation",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.hydro,helperText:s.hydro})}),c.jsx(k,{item:!0,xs:12,md:6,lg:4,children:c.jsx(F,{name:"geothermal",label:"Geothermal Energy (GWh)",value:a.geothermal,onChange:d,placeholder:"Enter geothermal generation",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.geothermal,helperText:s.geothermal})}),c.jsx(k,{item:!0,xs:12,md:6,lg:4,children:c.jsx(F,{name:"biomass",label:"Biomass Energy (GWh)",value:a.biomass,onChange:d,placeholder:"Enter biomass generation",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.biomass,helperText:s.biomass})}),c.jsx(k,{item:!0,xs:12,md:6,lg:4,children:c.jsx(F,{name:"totalRenewable",label:"Total Renewable Energy (GWh)",value:a.totalRenewable,InputProps:{readOnly:!0},placeholder:"Auto-calculated",fullWidth:!0,variant:"outlined",helperText:"Automatically calculated"})}),c.jsx(k,{item:!0,xs:12,md:6,lg:4,children:c.jsx(F,{name:"nonRenewableEnergy",label:"Non-Renewable Energy (GWh)",value:a.nonRenewableEnergy,onChange:d,placeholder:"Enter non-renewable energy",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.nonRenewableEnergy,helperText:s.nonRenewableEnergy})}),c.jsx(k,{item:!0,xs:12,md:6,lg:4,children:c.jsx(F,{name:"totalPower",label:"Total Power Generation (GWh)",value:a.totalPower,InputProps:{readOnly:!0},placeholder:"Auto-calculated",fullWidth:!0,variant:"outlined",helperText:"Automatically calculated"})})]})]}),c.jsxs(k,{item:!0,xs:12,children:[c.jsx(Je,{className:"my-4"}),c.jsx(D,{variant:"subtitle1",className:"mb-3 font-medium",children:"Additional Data"}),c.jsxs(k,{container:!0,spacing:3,children:[c.jsx(k,{item:!0,xs:12,md:6,children:c.jsx(F,{name:"population",label:"Population (in millions)",value:a.population,onChange:d,placeholder:"Enter population in millions",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.population,helperText:s.population})}),c.jsx(k,{item:!0,xs:12,md:6,children:c.jsx(F,{name:"gdp",label:"Gross Domestic Product (GDP)",value:a.gdp,onChange:d,placeholder:"Enter GDP value",fullWidth:!0,variant:"outlined",type:"number",inputProps:{min:0,step:.01},error:!!s.gdp,helperText:s.gdp})})]})]}),s.submission&&c.jsx(k,{item:!0,xs:12,children:c.jsx(D,{variant:"body2",color:"error",children:s.submission})})]}),c.jsxs(se,{className:"mt-8 flex justify-end gap-3",children:[c.jsx(le,{variant:"outlined",onClick:v,startIcon:c.jsx(nt,{size:18}),children:"Cancel"}),c.jsx(le,{type:"submit",variant:"contained",color:"primary",startIcon:c.jsx(Ke,{size:18}),disabled:t,children:t?"Saving...":"Save Record"})]})]})})]})};export{Zt as default};
